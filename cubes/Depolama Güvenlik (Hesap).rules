SKIPCHECK;

[  ] = IF(ELPAR('Version', !Version, 1) @= 'Aktif', CONTINUE, STET);

[  ] = N: IF(ELISANC('Period', SUBST(!Version, LONG(!Version)-4+1, 4), !Period) = 1, CONTINUE, STET);

[ 'Amount' ] =  N: 
	IF(SUBST( !Period, 6, 2 ) @= '01'
	& !Masraf_Kar_Merkezleri @= DB('Depolama Güvenlik', !Records, !Version, 'MM Depo & 5001')
	& DB('Depolama Güvenlik', !Records, !Version, 'Personel Tipi Açıklama') @= !Depolama_Personel_Güvenlik_Tipi, 
    DB('Depolama Güvenlik', !Records, !Version, 'Birim Maliyet - Aylık') * 
    DB('Depolama Güvenlik', !Records, !Version, 'Oca'), 
    IF(SUBST( !Period, 6, 2 ) @= '02'
	& !Masraf_Kar_Merkezleri @= DB('Depolama Güvenlik', !Records, !Version, 'MM Depo & 5001')
	& DB('Depolama Güvenlik', !Records, !Version, 'Personel Tipi Açıklama') @= !Depolama_Personel_Güvenlik_Tipi, 
    DB('Depolama Güvenlik', !Records, !Version, 'Birim Maliyet - Aylık') * 
    DB('Depolama Güvenlik', !Records, !Version, 'Şub'), 
    IF(SUBST( !Period, 6, 2 ) @= '03'
	& !Masraf_Kar_Merkezleri @= DB('Depolama Güvenlik', !Records, !Version, 'MM Depo & 5001')
	& DB('Depolama Güvenlik', !Records, !Version, 'Personel Tipi Açıklama') @= !Depolama_Personel_Güvenlik_Tipi, 
    DB('Depolama Güvenlik', !Records, !Version, 'Birim Maliyet - Aylık') * 
    DB('Depolama Güvenlik', !Records, !Version, 'Mar'), 
    IF(SUBST( !Period, 6, 2 ) @= '04'
	& !Masraf_Kar_Merkezleri @= DB('Depolama Güvenlik', !Records, !Version, 'MM Depo & 5001')
	& DB('Depolama Güvenlik', !Records, !Version, 'Personel Tipi Açıklama') @= !Depolama_Personel_Güvenlik_Tipi, 
    DB('Depolama Güvenlik', !Records, !Version, 'Birim Maliyet - Aylık') * 
    DB('Depolama Güvenlik', !Records, !Version, 'Nis'), 
    IF(SUBST( !Period, 6, 2 ) @= '05'
	& !Masraf_Kar_Merkezleri @= DB('Depolama Güvenlik', !Records, !Version, 'MM Depo & 5001')
	& DB('Depolama Güvenlik', !Records, !Version, 'Personel Tipi Açıklama') @= !Depolama_Personel_Güvenlik_Tipi, 
    DB('Depolama Güvenlik', !Records, !Version, 'Birim Maliyet - Aylık') * 
    DB('Depolama Güvenlik', !Records, !Version, 'May'), 
    IF(SUBST( !Period, 6, 2 ) @= '06'
	& !Masraf_Kar_Merkezleri @= DB('Depolama Güvenlik', !Records, !Version, 'MM Depo & 5001')
	& DB('Depolama Güvenlik', !Records, !Version, 'Personel Tipi Açıklama') @= !Depolama_Personel_Güvenlik_Tipi, 
    DB('Depolama Güvenlik', !Records, !Version, 'Birim Maliyet - Aylık') * 
    DB('Depolama Güvenlik', !Records, !Version, 'Haz'), 
    IF(SUBST( !Period, 6, 2 ) @= '07'
	& !Masraf_Kar_Merkezleri @= DB('Depolama Güvenlik', !Records, !Version, 'MM Depo & 5001')
	& DB('Depolama Güvenlik', !Records, !Version, 'Personel Tipi Açıklama') @= !Depolama_Personel_Güvenlik_Tipi, 
    DB('Depolama Güvenlik', !Records, !Version, 'Birim Maliyet - Aylık') * 
    DB('Depolama Güvenlik', !Records, !Version, 'Tem'), 
    IF(SUBST( !Period, 6, 2 ) @= '08'
	& !Masraf_Kar_Merkezleri @= DB('Depolama Güvenlik', !Records, !Version, 'MM Depo & 5001')
	& DB('Depolama Güvenlik', !Records, !Version, 'Personel Tipi Açıklama') @= !Depolama_Personel_Güvenlik_Tipi, 
    DB('Depolama Güvenlik', !Records, !Version, 'Birim Maliyet - Aylık') * 
    DB('Depolama Güvenlik', !Records, !Version, 'Ağu'), 
    IF(SUBST( !Period, 6, 2 ) @= '09'
	& !Masraf_Kar_Merkezleri @= DB('Depolama Güvenlik', !Records, !Version, 'MM Depo & 5001')
	& DB('Depolama Güvenlik', !Records, !Version, 'Personel Tipi Açıklama') @= !Depolama_Personel_Güvenlik_Tipi, 
    DB('Depolama Güvenlik', !Records, !Version, 'Birim Maliyet - Aylık') * 
    DB('Depolama Güvenlik', !Records, !Version, 'Eyl'), 
    IF(SUBST( !Period, 6, 2 ) @= '10'
	& !Masraf_Kar_Merkezleri @= DB('Depolama Güvenlik', !Records, !Version, 'MM Depo & 5001')
	& DB('Depolama Güvenlik', !Records, !Version, 'Personel Tipi Açıklama') @= !Depolama_Personel_Güvenlik_Tipi, 
    DB('Depolama Güvenlik', !Records, !Version, 'Birim Maliyet - Aylık') * 
    DB('Depolama Güvenlik', !Records, !Version, 'Eki'), 
    IF(SUBST( !Period, 6, 2 ) @= '11'
	& !Masraf_Kar_Merkezleri @= DB('Depolama Güvenlik', !Records, !Version, 'MM Depo & 5001')
	& DB('Depolama Güvenlik', !Records, !Version, 'Personel Tipi Açıklama') @= !Depolama_Personel_Güvenlik_Tipi, 
    DB('Depolama Güvenlik', !Records, !Version, 'Birim Maliyet - Aylık') * 
    DB('Depolama Güvenlik', !Records, !Version, 'Kas'), 
    IF(SUBST( !Period, 6, 2 ) @= '12'
	& !Masraf_Kar_Merkezleri @= DB('Depolama Güvenlik', !Records, !Version, 'MM Depo & 5001')
	& DB('Depolama Güvenlik', !Records, !Version, 'Personel Tipi Açıklama') @= !Depolama_Personel_Güvenlik_Tipi, 
    DB('Depolama Güvenlik', !Records, !Version, 'Birim Maliyet - Aylık') * 
    DB('Depolama Güvenlik', !Records, !Version, 'Ara'), CONTINUE))))))))))));
    
FEEDERS;

['Aktif', '5340000', 'Toplam Güvenlik', 'Total Records', 'Amount'] => DB( 'Depolama Hesaplama', 'Güvenlik Giderleri', !Version, !Period, 'Toplam 5001'  );

['Aktif', {'3340002', '3340010', '3340015', '3350000', '3340007', '3340008', '5340300', '1345000'}, 'Toplam Güvenlik', 'Total Records', 'Amount'] => 
DB( 'Depolama Hesaplama Mağaza Dağıtım', !Masraf_Kar_Merkezleri, 'Güvenlik Giderleri', !Version, !Period, 'Amount'  );
