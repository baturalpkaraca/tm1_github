SKIPCHECK;

[  ] = IF(ELPAR('Version', !Version, 1) @= 'Aktif', CONTINUE, STET);

[  ] =  N: IF(DB('V_P', !Version, !Period, 'Actual - Plan') @= 'Plan', CONTINUE, STET);

[  ] = N: IF( SUBST( !SPK_Giriş_Acc, 1, 5 ) @= 'IAS39', 0, CONTINUE );

#RegionStart Rebate
[  'COGS - cumulative', 'Amount' ] =  N: 
    DB( 'PL', 'NET SALES', 'Total Source' ,'Koçtaş Total', !Version, !Period|'-YTD', 'Amount')
  - DB( 'PL', 'Buying margin', 'Total Source', 'Koçtaş Total', !Version, !Period|'-YTD', 'Amount')
  - DB( 'PL', 'Stock transfer cost', 'Total Source', 'Koçtaş Total', !Version, !Period|'-YTD', 'Amount')
  - DB( 'PL', 'Product discounts given', 'Total Source', 'Koçtaş Total', !Version, !Period|'-YTD', 'Amount')
  - DB( 'PL', 'Shrinkage', 'Total Source', 'Koçtaş Total', !Version, !Period|'-YTD', 'Amount');

[  'COGS - month', 'Amount' ] =  N: 
    DB( 'PL', 'NET SALES', 'Total Source','Koçtaş Total', !Version, !Period, 'Amount')
  - DB( 'PL', 'Buying margin', 'Total Source','Koçtaş Total', !Version, !Period, 'Amount')
  - DB( 'PL', 'Stock transfer cost', 'Total Source','Koçtaş Total', !Version, !Period, 'Amount')
  - DB( 'PL', 'Product discounts given', 'Total Source','Koçtaş Total', !Version, !Period, 'Amount')
  - DB( 'PL', 'Shrinkage', 'Total Source','Koçtaş Total', !Version, !Period, 'Amount');

[ {'PY Period End Stocks', 'Final Rebate in Stocks'}, '2022-12', 'Amount'] = N: STET;
['Stock', 'Amount'] = N: IF( SUBST( !Period, 1, 4 ) @= '2022', STET, CONTINUE );

[ 'PY Period End Stocks', 'Amount'] = N: 
    DB( 'SPK Giriş Plan', 'Stock', !Version, ATTRS( 'Period', !Period, 'PYLastMonth' ), !SPK_Giriş_Plan_Meas );

[ 'Stocks End', 'Amount' ] =  N: ['Total Stock'];

[ 'Purchases', 'Amount' ] = N: ['COGS - cumulative'] - ['PY Period End Stocks'] + ['Stocks End'];

[  'Consignment _ purchases', 'Amount' ] = N: ['Purchases'] * ['Purchase Consignment %'];

[  'Purchases (Exc. Consingment)', 'Amount' ] = N: ['Purchases'] - ['Consignment _ purchases'];

[  'Monthly Rebate', 'Amount' ] =  N: 
    DB( 'PL', 'Supplier rebates', 'Total Source','Koçtaş Total', !Version, !Period, 'Amount');

[  'Rebate - Cumulative', 'Amount' ] =  N: 
    DB( 'PL', 'Supplier rebates', 'Total Source','Koçtaş Total', !Version, !Period|'-YTD', 'Amount');

[  'Consignment _ rebate', 'Amount' ] = N: ['Rebate - Cumulative'] * ['Rebate Consignment %'];

[  'Rebate (Exc. Consingment)', 'Amount' ] = N: ['Rebate - Cumulative'] - ['Consignment _ rebate'];

[  '% of Rebates in Total Purch. (Exc. Cons.)', 'Amount' ] = N: ['Rebate (Exc. Consingment)'] \ ['Purchases (Exc. Consingment)'];

[  'Rebate in Stocks', 'Amount' ] = N: ['Stocks End'] * ['% of Rebates in Total Purch. (Exc. Cons.)'];

[  'Rebate in stock opening balance', 'Amount' ] = N: IF(SUBST(!Period, 6, 2) @= '01',
    DB( 'SPK Giriş Plan', 'Final Rebate in Stocks', !Version, ATTRS('Period', !Period, 'PrevMonth'), !SPK_Giriş_Plan_Meas ),
    DB( 'SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'PrevMonth'), !SPK_Giriş_Plan_Meas ));

[  'Rebate in stock adjustment', 'Amount' ]	= N: ['Rebate in Stocks'] - ['Rebate in stock opening balance'];

[  '% of Rebates in Total Purch. (final oran )', 'Amount' ] = N: ['% of Rebates in Total Purch. (Exc. Cons.)'] + ['% of Rebates in Total Purch. (oran düzeltme)'];

[  'Final Rebate in Stocks', 'Amount' ] = N: ['% of Rebates in Total Purch. (final oran )'] * ['Stocks End'];

[  'Rebate in stock adjustment (Final)', 'Amount' ] = N: ['Final Rebate in Stocks'] - ['Rebate in stock opening balance'];

[  'Rebate - BS Charge - 153', 'Amount' ] = N: ['Final Rebate in Stocks'];

[  'Rebate - PL Charge - 621', 'Amount' ] = N: ['Rebate - BS Charge - 153'] - 
    DB( 'SPK Giriş Plan', 'Rebate - BS Charge - 153', !Version, ATTRS( 'Period', !Period, 'PYLastMonth' ), !SPK_Giriş_Plan_Meas );
#EndRegion Rebate

#RegionStart PARO
[ 'PARO - BS Charge - 380', 'Amount' ] =  N: 
	IF(SUBST(!Period, 6, 2) @= '01', [ 'PARO - PL Charge - 600' ] + DB('SPK Giriş Plan', 'PARO - BS Charge - 380', !Version, ATTRS('Period', !Period, 'PrevMonth'), 'Amount'), CONTINUE);

[ 'PARO - BS Charge - 380', 'Amount' ] =  N: 
	([ 'PARO - PL Charge - 600' ] - DB('SPK Giriş Plan', 'PARO - PL Charge - 600', !Version, ATTRS('Period', !Period, 'PrevMonth'), 'Amount')) + DB('SPK Giriş Plan', 'PARO - BS Charge - 380', !Version, ATTRS('Period', !Period, 'PrevMonth'), 'Amount');
#EndRegion PARO

#RegionStart HOLIDAY
[  'Holiday - BS Charge - 373', 'Amount' ] =  N: 
	IF(SUBST(!Period, 6, 2) @= '01',
  [ 'Holiday - PL Charge - 630' ] 
  + [ 'Holiday - PL Charge - 631' ] 
  + [ 'Holiday - PL Charge - 632' ] 
  + DB('SPK Giriş Plan', 'Holiday - BS Charge - 373', !Version, ATTRS('Period', !Period, 'PrevMonth'), 'Amount'), CONTINUE);

[  'Holiday - BS Charge - 373', 'Amount' ] =  N: 
	([ 'Holiday - PL Charge - 630' ] - DB('SPK Giriş Plan', 'Holiday - PL Charge - 630', !Version, ATTRS('Period', !Period, 'PrevMonth'), 'Amount')) 
  + ([ 'Holiday - PL Charge - 631' ] - DB('SPK Giriş Plan', 'Holiday - PL Charge - 631', !Version, ATTRS('Period', !Period, 'PrevMonth'), 'Amount')) 
  + ([ 'Holiday - PL Charge - 632' ] - DB('SPK Giriş Plan', 'Holiday - PL Charge - 632', !Version, ATTRS('Period', !Period, 'PrevMonth'), 'Amount')) 
  + DB('SPK Giriş Plan', 'Holiday - BS Charge - 373', !Version, ATTRS('Period', !Period, 'PrevMonth'), 'Amount');
#EndRegion HOLIDAY

#RegionStart LITIGATION
[ 'Litigation - BS Charge - 373', 'Amount' ] =  N: 
	IF(SUBST(!Period, 6, 2) @= '01', [ 'Litigation - PL Charge - 654' ] + DB('SPK Giriş Plan', 'Litigation - BS Charge - 373', !Version, ATTRS('Period', !Period, 'PrevMonth'), 'Amount'), CONTINUE);

[ 'Litigation - BS Charge - 373', 'Amount' ] =  N: 
	([ 'Litigation - PL Charge - 654' ] - 
     DB('SPK Giriş Plan', 'Litigation - PL Charge - 654', !Version, ATTRS('Period', !Period, 'PrevMonth'), 'Amount')) + 
    DB('SPK Giriş Plan', 'Litigation - BS Charge - 373', !Version, ATTRS('Period', !Period, 'PrevMonth'), 'Amount');

[ 'SPK_Giriş_Acc':'108', 'Amount' ] =  N: IF(SUBST(!Period, 6, 2) @= '12',
  ((DB('Kredi Kart', 'Kredi Kart', 'Toplam', !Version, !Period, 'P+1') + 
    DB('Kredi Kart', 'Kredi Kart', 'Toplam', !Version, ATTRS('Period', !Period, 'PrevMonth'), 'P+2') +
   (DB('Kredi Kart', 'Kredi Kart', 'Toplam', !Version, !Period, 'Addition from Sales') -
    DB('Kredi Kart', 'Kredi Kart', 'Toplam', !Version, !Period, 'Collection from Sales')) *
    DB('Kredi Kart - Alacak Detay', 'Banka Giriş', !Version, 'Opening '|ATTRS('Period', !Period, 'Year'), 'P01', 'Collection Ratio')) * 1.18) * -1, CONTINUE);

[ 'SPK_Giriş_Acc':'108', 'Amount' ] =  N:
  ((DB('Kredi Kart', 'Kredi Kart', 'Toplam', !Version, !Period, 'P+1') + 
    DB('Kredi Kart', 'Kredi Kart', 'Toplam', !Version, ATTRS('Period', !Period, 'PrevMonth'), 'P+2') +
    DB('Kredi Kart', 'Kredi Kart', 'Toplam', !Version, ATTRS('Period', !Period, 'NextMonth'), 'P') ) * 1.18) * -1;

[ 'SPK_Giriş_Acc':'102', 'Amount' ] =  N: - [ 'SPK_Giriş_Acc':'108', 'Amount' ];

[ '37308 / 300 Reclass', 'Amount' ] = N: DB( 'Kredi Faiz', 'Total Records', !Version, !Period, '37308' );
#EndRegion LITIGATION

#RegionStart Stock 373 to 320
[  { '153', '154', '157', '159' }, 'Amount' ] =  N: 
	DB('Mali Tablo', !SPK_Giriş_Acc, 'Kanuni', !Version, !Period, 'Closing');

[  'Stock - BS Charge - 153', 'Amount' ] =  N: 
	[ 'NRV + Display + Shrinkage' ];

[  'Stock - PL Charge - 621', 'Amount' ] =  N: 
	[ 'Stock - BS Charge - 153' ] - DB('SPK Giriş Plan', 'Stock - BS Charge - 153', !Version, ATTRS( 'Period', !Period, 'PYLastMonth' ) , !SPK_Giriş_Plan_Meas);

['Stock Provision', 'Amount'] =	N: ['Total Stock'] * ['Provision/Stock Ratio'] + ['Stock Provision Adjustment'];

# [{'NRV', 'Display', 'Shrinkage'}, 'Amount'] =	N: IF (SUBST(!Period, 1, 7) @= 'Opening',           STET,
#   ['Stock Provision'] * DB( 'SPK Giriş Plan', !SPK_Giriş_Acc, !Version, 'Opening ' | ATTRS('Period', !Period, 'Year'), !SPK_Giriş_Plan_Meas )
#   \ DB( 'SPK Giriş Plan', 'NRV + Display + Shrinkage', !Version, 'Opening ' | ATTRS('Period', !Period, 'Year'), !SPK_Giriş_Plan_Meas ));

[{'NRV', 'Display', 'Shrinkage'}, 'Amount'] =	N:
  ['Stock Provision'] * DB( 'SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'PYLastMonth'), !SPK_Giriş_Plan_Meas )
  \ DB( 'SPK Giriş Plan', 'NRV + Display + Shrinkage', !Version, ATTRS('Period', !Period, 'PYLastMonth'), !SPK_Giriş_Plan_Meas );
#EndRegion Stock 373 to 320

#RegionStart Turnover
[  'Oth. T/R (exc. 108)', 'Amount' ] =  N: 
	DB('Mali Tablo', '120', 'Kanuni', !Version, !Period, 'Closing') 
  + DB('Mali Tablo', '123', 'Kanuni', !Version, !Period, 'Closing') 
  + DB('Mali Tablo', '126', 'Kanuni', !Version, !Period, 'Closing') 
  + DB('Mali Tablo', '128', 'Kanuni', !Version, !Period, 'Closing') 
  + DB('Mali Tablo', '129', 'Kanuni', !Version, !Period, 'Closing');

[  'Monthly B2B Sales', 'Amount' ] =  N: 

	IF([ 'IAS39 B2B Düzeltme' ] <> 0, [ 'IAS39 B2B Düzeltme' ],   DB( 'PL', 'NET SALES', 'Total Source', 'B2B', !Version, !Period, 'Amount' ));

[ 'Oth. T/R (exc. 108) - Avg', 'Amount' ] =  N: 
	([ 'Oth. T/R (exc. 108)' ] + DB('SPK Giriş Plan', 'Oth. T/R (exc. 108)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-1), !SPK_Giriş_Plan_Meas) 
     + DB('SPK Giriş Plan', 'Oth. T/R (exc. 108)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-2), !SPK_Giriş_Plan_Meas) 
     + DB('SPK Giriş Plan', 'Oth. T/R (exc. 108)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-3), !SPK_Giriş_Plan_Meas) 
     + DB('SPK Giriş Plan', 'Oth. T/R (exc. 108)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-4), !SPK_Giriş_Plan_Meas) 
     + DB('SPK Giriş Plan', 'Oth. T/R (exc. 108)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-5), !SPK_Giriş_Plan_Meas) 
     + DB('SPK Giriş Plan', 'Oth. T/R (exc. 108)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-6), !SPK_Giriş_Plan_Meas) 
     + DB('SPK Giriş Plan', 'Oth. T/R (exc. 108)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-7), !SPK_Giriş_Plan_Meas) 
     + DB('SPK Giriş Plan', 'Oth. T/R (exc. 108)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-8), !SPK_Giriş_Plan_Meas) 
     + DB('SPK Giriş Plan', 'Oth. T/R (exc. 108)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-9), !SPK_Giriş_Plan_Meas) 
     + DB('SPK Giriş Plan', 'Oth. T/R (exc. 108)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-10),!SPK_Giriş_Plan_Meas) 
     + DB('SPK Giriş Plan', 'Oth. T/R (exc. 108)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-11),!SPK_Giriş_Plan_Meas)) / 12;

[ 'Monthly B2B Sales - Sum', 'Amount' ] =  N: 
	[ 'Monthly B2B Sales' ] + DB('SPK Giriş Plan', 'Monthly B2B Sales', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-1), !SPK_Giriş_Plan_Meas) 
  + DB('SPK Giriş Plan', 'Monthly B2B Sales', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-2), !SPK_Giriş_Plan_Meas) 
  + DB('SPK Giriş Plan', 'Monthly B2B Sales', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-3), !SPK_Giriş_Plan_Meas) 
  + DB('SPK Giriş Plan', 'Monthly B2B Sales', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-4), !SPK_Giriş_Plan_Meas) 
  + DB('SPK Giriş Plan', 'Monthly B2B Sales', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-5), !SPK_Giriş_Plan_Meas) 
  + DB('SPK Giriş Plan', 'Monthly B2B Sales', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-6), !SPK_Giriş_Plan_Meas) 
  + DB('SPK Giriş Plan', 'Monthly B2B Sales', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-7), !SPK_Giriş_Plan_Meas) 
  + DB('SPK Giriş Plan', 'Monthly B2B Sales', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-8), !SPK_Giriş_Plan_Meas) 
  + DB('SPK Giriş Plan', 'Monthly B2B Sales', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-9), !SPK_Giriş_Plan_Meas) 
  + DB('SPK Giriş Plan', 'Monthly B2B Sales', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-10), !SPK_Giriş_Plan_Meas) 
  + DB('SPK Giriş Plan', 'Monthly B2B Sales', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-11), !SPK_Giriş_Plan_Meas);

[ 'Turnover rate - T/R', 'Amount' ] =  N: 
	[ 'Monthly B2B Sales - Sum' ] \ ([ 'Oth. T/R (exc. 108) - Avg' ] \ 1.18);

[ 'Turnover days - T/R', 'Amount' ] =  N: 
	360 \ [ 'Turnover rate - T/R' ];

[ 'TR - Balance', 'Amount' ] =  N: 
	[ 'Oth. T/R (exc. 108)' ];

[ 'TR - Turnover Days', 'Amount' ] =  N: 
	[ 'Turnover days - T/R' ];

[ 'TR - Interest Rate', 'Amount' ] =  N: 
	IF([ 'TR - Turnover Days' ] >= 1
	& [ 'TR - Turnover Days' ] <= 30, DB('V_P', !Version, !Period, 'Libor % - 1 M'), CONTINUE);

[  'TR - Discount Balance', 'Amount' ] =  N: 
	- ([ 'TR - Balance' ] \ ((1 + [ 'TR - Interest Rate' ]) ^ ([ 'TR - Turnover Days' ] / 360)) - [ 'TR - Balance' ]);

[ 'TR - Net Balance', 'Amount' ] =  N: 
	[ 'TR - Balance' ] - [ 'TR - Discount Balance' ];

[  'TR - Discount Balance - Negative YTD', 'Amount' ] =  N: 
	IF(SUBST(!Period, 6, 2) @= '01',  - [ 'TR - Discount Balance' ],  - [ 'TR - Discount Balance' ] + DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'PrevMonth'), !SPK_Giriş_Plan_Meas));

[  'IAS39 TR - BS Charge - 120', 'Amount' ] =  N: 
	[ 'TR - Discount Balance' ];

[  'Credit Card Rec.', 'Amount' ] =  N: 
	DB('Mali Tablo', '108', 'Kanuni', !Version, !Period, 'Closing');

 ['Monthly Sales (exc. B2B)', 'Amount' ] =  N: 
	IF([ 'IAS39 Other sales Düzeltme' ] <> 0, [ 'IAS39 Other sales Düzeltme' ],    DB( 'PL', 'NET SALES', 'Total Source', 'Koçtaş Total', !Version, !Period, 'Amount' )
   + DB( 'PL', 'NET SALES', 'Total Source', 'B2B', !Version, !Period, 'Amount' ));

[ 'Credit Card Rec. - Avg', 'Amount' ] =  N: 
	([ 'Credit Card Rec.' ] + DB('SPK Giriş Plan', 'Credit Card Rec.', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-1), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Credit Card Rec.', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-2), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Credit Card Rec.', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-3), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Credit Card Rec.', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-4), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Credit Card Rec.', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-5), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Credit Card Rec.', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-6), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Credit Card Rec.', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-7), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Credit Card Rec.', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-8), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Credit Card Rec.', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-9), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Credit Card Rec.', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-10), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Credit Card Rec.', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-11), !SPK_Giriş_Plan_Meas)) / 12;

[ 'Monthly Sales (exc. B2B) - Sum', 'Amount' ] =  N: 
	[ 'Monthly Sales (exc. B2B)' ] + DB('SPK Giriş Plan', 'Monthly Sales (exc. B2B)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-1), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly Sales (exc. B2B)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-2), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly Sales (exc. B2B)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-3), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly Sales (exc. B2B)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-4), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly Sales (exc. B2B)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-5), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly Sales (exc. B2B)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-6), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly Sales (exc. B2B)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-7), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly Sales (exc. B2B)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-8), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly Sales (exc. B2B)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-9), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly Sales (exc. B2B)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-10), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly Sales (exc. B2B)', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-11), !SPK_Giriş_Plan_Meas);

[ 'Turnover rate - CCR', 'Amount' ] =  N: 
	[ 'Monthly Sales (exc. B2B) - Sum' ] \ ([ 'Credit Card Rec. - Avg' ] \ 1.18);

[ 'Turnover days - CCR', 'Amount' ] =  N: 
	360 \ [ 'Turnover rate - CCR' ];

[ 'CCR - Balance', 'Amount' ] =  N: 
	[ 'Credit Card Rec.' ];

[  'CCR - Turnover Days', 'Amount' ] =  N: 
	[ 'Turnover days - CCR' ];

[  'CCR - Interest Rate', 'Amount' ] =  N: 
	IF([ 'CCR - Turnover Days' ] >= 1
	& [ 'CCR - Turnover Days' ] <= 30, DB('V_P', !Version, !Period, 'Libor % - 1 M'), CONTINUE);

[  'CCR - Discount Balance', 'Amount' ] =  N: 
	- ([ 'CCR - Balance' ] \ ((1 + [ 'CCR - Interest Rate' ]) ^ ([ 'CCR - Turnover Days' ] / 360)) - [ 'CCR - Balance' ]);

[  'CCR - Net Balance', 'Amount' ] =  N: 
	[ 'CCR - Balance' ] - [ 'CCR - Discount Balance' ];

[  'CCR - Discount Balance - Negative YTD', 'Amount' ] =  N: 
	IF(SUBST(!Period, 6, 2) @= '01',  - [ 'CCR - Discount Balance' ],  - [ 'CCR - Discount Balance' ] + DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'PrevMonth'), !SPK_Giriş_Plan_Meas));

[  'IAS39 TR - BS Charge - 108', 'Amount' ] =  N: 
	[ 'CCR - Discount Balance' ];

[  'IAS39 TR - PL Charge - 642', 'Amount' ] =  N: 
	IF([ 'IAS39 TR - BS Charge - 120' ] + [ 'IAS39 TR - BS Charge - 108' ] - 
  DB('SPK Giriş Plan', 'IAS39 TR - BS Charge - 120', !Version, ATTRS('Period', !Period, 'PYMonth'), 'Amount') - 
  DB('SPK Giriş Plan', 'IAS39 TR - BS Charge - 108', !Version, ATTRS('Period', !Period, 'PYMonth'), 'Amount') < 0, 
  [ 'IAS39 TR - BS Charge - 120' ] + [ 'IAS39 TR - BS Charge - 108' ] - 
  DB('SPK Giriş Plan', 'IAS39 TR - BS Charge - 120', !Version, ATTRS('Period', !Period, 'PYMonth'), 'Amount') - 
  DB('SPK Giriş Plan', 'IAS39 TR - BS Charge - 108', !Version, ATTRS('Period', !Period, 'PYMonth'), 'Amount'), 0);

[  'IAS39 TR - PL Charge - 660', 'Amount' ] =  N: 
	IF([ 'IAS39 TR - BS Charge - 120' ] + [ 'IAS39 TR - BS Charge - 108' ] - 
  DB('SPK Giriş Plan', 'IAS39 TR - BS Charge - 120', !Version, ATTRS('Period', !Period, 'PYMonth'), 'Amount') - 
  DB('SPK Giriş Plan', 'IAS39 TR - BS Charge - 108', !Version, ATTRS('Period', !Period, 'PYMonth'), 'Amount') > 0, 
  [ 'IAS39 TR - BS Charge - 120' ] + [ 'IAS39 TR - BS Charge - 108' ] - 
  DB('SPK Giriş Plan', 'IAS39 TR - BS Charge - 120', !Version, ATTRS('Period', !Period, 'PYMonth'), 'Amount') - 
  DB('SPK Giriş Plan', 'IAS39 TR - BS Charge - 108', !Version, ATTRS('Period', !Period, 'PYMonth'), 'Amount'), 0) + 
  [ 'IAS39 TR - PL Charge - 660 Düzeltme' ];

[  'T/P', 'Amount' ] =  N: 
	- DB('Mali Tablo', '309', 'Kanuni', !Version, !Period, 'Closing')
  - DB('Mali Tablo', '320', 'Kanuni', !Version, !Period, 'Closing') 
  - DB('Mali Tablo', '321', 'Kanuni', !Version, !Period, 'Closing')
  - DB('Mali Tablo', '323', 'Kanuni', !Version, !Period, 'Closing') 
  - DB('Mali Tablo', '324', 'Kanuni', !Version, !Period, 'Closing') 
  - DB('Mali Tablo', '326', 'Kanuni', !Version, !Period, 'Closing') 
  - DB('Mali Tablo', '329', 'Kanuni', !Version, !Period, 'Closing') 
 - [ '373 to 320 Reclass' ] - [ '373 to 320 Tax Reclass' ];

[ 'Stock', 'Amount' ] =  N: 
	DB('Mali Tablo', '153', 'Kanuni', !Version, !Period, 'Closing') 
  + DB('Mali Tablo', '154', 'Kanuni', !Version, !Period, 'Closing') 
  + DB('Mali Tablo', '157', 'Kanuni', !Version, !Period, 'Closing') 
  + DB('Mali Tablo', '159', 'Kanuni', !Version, !Period, 'Closing') ;

[  'Monthly COGS', 'Amount' ] =  N: 
	DB('Mali Tablo', '621', 'Kanuni', !Version, !Period, 'Movement');

[  'Monthly COGS - Sum', 'Amount' ] =  N: 
	[ 'Monthly COGS' ] + DB('SPK Giriş Plan', 'Monthly COGS', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-1), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly COGS', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-2), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly COGS', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-3), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly COGS', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-4), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly COGS', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-5), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly COGS', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-6), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly COGS', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-7), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly COGS', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-8), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly COGS', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-9), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly COGS', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-10), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'Monthly COGS', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-11), !SPK_Giriş_Plan_Meas);

[  'T/P - Avg', 'Amount' ] =  N: 
	([ 'T/P' ] + DB('SPK Giriş Plan', 'T/P', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-1), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'T/P', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-2), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'T/P', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-3), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'T/P', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-4), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'T/P', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-5), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'T/P', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-6), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'T/P', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-7), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'T/P', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-8), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'T/P', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-9), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'T/P', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-10), !SPK_Giriş_Plan_Meas) + DB('SPK Giriş Plan', 'T/P', !Version, ElementName('Period', 'Period', NUMBR(ATTRS('Period', !Period, 'IndexA'))-11), !SPK_Giriş_Plan_Meas)) / 12;

[  'T/P - Purchases', 'Amount' ] =  N: 
	[ 'Monthly COGS - Sum' ] + [ 'Stock' ] - DB('SPK Giriş Plan', 'Stock', !Version, ATTRS('Period', !Period, 'PYMonth'), !SPK_Giriş_Plan_Meas);

[  'Turnover rate - T/P', 'Amount' ] =  N: 
	[ 'T/P - Purchases' ] \ ([ 'T/P - Avg' ] \ 1.18);

[  'Turnover days - T/P', 'Amount' ] =  N: 
	360 \ [ 'Turnover rate - T/P' ];

[ 'TP - Balance', 'Amount' ] =  N: 
	[ 'T/P' ];

[  'TP - Turnover Days', 'Amount' ] =  N: 
	[ 'Turnover days - T/P' ];

[  'TP - Interest Rate', 'Amount' ] =  N: 
	IF([ 'TP - Turnover Days' ] >= 90
	& [ 'TP - Turnover Days' ] <= 180, DB('V_P', !Version, !Period, 'Libor % - 4 M'), CONTINUE);

[  'TP - Discount Balance', 'Amount' ] =  N: 
	- ([ 'TP - Balance' ] \ ((1 + [ 'TP - Interest Rate' ]) ^ ([ 'TP - Turnover Days' ] / 360)) - [ 'TP - Balance' ]);

[  'TP - Net Balance', 'Amount' ] =  N: 
	[ 'TP - Balance' ] - [ 'TP - Discount Balance' ];

[  'TP - Discount Balance - Negative YTD', 'Amount' ] =  N: 
	IF(SUBST(!Period, 6, 2) @= '01',  - [ 'TP - Discount Balance' ],  - [ 'TP - Discount Balance' ] + DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'PrevMonth'), !SPK_Giriş_Plan_Meas));

[ 'IAS39 TP - BS Charge - 320', 'Amount' ] =  N: 
	[ 'TP - Discount Balance' ];

[ 'IAS39 TP - PL Charge - 642', 'Amount' ] =  N: 
	IF([ 'IAS39 TP - BS Charge - 320' ] - 
  DB('SPK Giriş Plan', 'IAS39 TP - BS Charge - 320', !Version, ATTRS('Period', !Period, 'PYLastMonth'), 'Amount') > 0,  
  - ([ 'IAS39 TP - BS Charge - 320' ] - 
     DB('SPK Giriş Plan', 'IAS39 TP - BS Charge - 320', !Version, ATTRS('Period', !Period, 'PYLastMonth'), 'Amount')) + 
  [ 'IAS39 TP - PL Charge - 642 Düzeltme' ], 0);

[  'IAS39 TP - PL Charge - 660', 'Amount' ] =  N: 
	IF([ 'IAS39 TP - BS Charge - 320' ] - 
  DB('SPK Giriş Plan', 'IAS39 TP - BS Charge - 320', !Version, ATTRS('Period', !Period, 'PYLastMonth'), 'Amount') > 0, 0,  
  - ([ 'IAS39 TP - BS Charge - 320' ] - 
     DB('SPK Giriş Plan', 'IAS39 TP - BS Charge - 320', !Version, ATTRS('Period', !Period, 'PYLastMonth'), 'Amount'))) + 
  [ 'IAS39 TP - PL Charge - 660 Düzeltme' ];

[  'B2B - Balance', 'Amount' ] =  N: 
	[ 'Monthly B2B Sales' ];

[  'B2B - Turnover Days', 'Amount' ] =  N: 
	[ 'TR - Turnover Days' ];

[  'B2B - Interest Rate', 'Amount' ] =  N: 
	[ 'TR - Interest Rate' ];

[  'B2B - Discount Balance', 'Amount' ] =  N: 
	- ([ 'B2B - Balance' ] \ ((1 + [ 'B2B - Interest Rate' ]) ^ ([ 'B2B - Turnover Days' ] / 360)) - [ 'B2B - Balance' ]);

[  'B2B - Net Balance', 'Amount' ] =  N: 
	[ 'B2B - Balance' ] - [ 'B2B - Discount Balance' ];

[  'B2B - Discount Balance - Negative YTD', 'Amount' ] =  N: 
	IF(SUBST(!Period, 6, 2) @= '01',  - [ 'B2B - Discount Balance' ],  - [ 'B2B - Discount Balance' ] + DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'PrevMonth'), !SPK_Giriş_Plan_Meas));

[  'Oth.S - Balance', 'Amount' ] =  N: 
	[ 'Monthly Sales (exc. B2B)' ];

[  'Oth.S - Turnover Days', 'Amount' ] =  N: 
	[ 'CCR - Turnover Days' ];

[  'Oth.S - Interest Rate', 'Amount' ] =  N: 
	[ 'CCR - Interest Rate' ];

[  'Oth.S - Discount Balance', 'Amount' ] =  N: 
	- ([ 'Oth.S - Balance' ] \ ((1 + [ 'Oth.S - Interest Rate' ]) ^ ([ 'Oth.S - Turnover Days' ] / 360)) - [ 'Oth.S - Balance' ]);

[  'Oth.S - Net Balance', 'Amount' ] =  N: 
	[ 'Oth.S - Balance' ] - [ 'Oth.S - Discount Balance' ];

[  'Oth.S - Discount Balance - Negative YTD', 'Amount' ] =  N: 
	IF(SUBST(!Period, 6, 2) @= '01',  - [ 'Oth.S - Discount Balance' ],  - [ 'Oth.S - Discount Balance' ] + DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'PrevMonth'), !SPK_Giriş_Plan_Meas));

[  '600 Reclass', 'Amount' ] =  N: 
	- [ 'B2B - Discount Balance - Negative YTD' ] - [ 'Oth.S - Discount Balance - Negative YTD' ];

[  '642 Reclass', 'Amount' ] =  N: 
	- [ '600 Reclass' ];

[  '646 Reclass', 'Amount' ] =  N: 
	- DB('Mali Tablo', '646', 'Kanuni', !Version, !Period, 'Closing');

[  'COGS - Balance', 'Amount' ] =  N: 
	[ 'Monthly COGS' ];

[  'COGS - Turnover Days', 'Amount' ] =  N: 
	[ 'Turnover days - T/P' ];

[  'COGS - Interest Rate', 'Amount' ] =  N: 
	[ 'TP - Interest Rate' ];

[  'COGS - Discount Balance', 'Amount' ] =  N: 
	- ([ 'COGS - Balance' ] \ ((1 + [ 'COGS - Interest Rate' ]) ^ ([ 'COGS - Turnover Days' ] / 360)) - [ 'COGS - Balance' ]);

[  'COGS - Net Balance', 'Amount' ] =  N: 
	[ 'COGS - Balance' ] - [ 'COGS - Discount Balance' ];

[  'COGS - Discount Balance - Negative YTD', 'Amount' ] =  N: 
	IF(SUBST(!Period, 6, 2) @= '01',  - [ 'COGS - Discount Balance' ],  - [ 'COGS - Discount Balance' ] + DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'PrevMonth'), !SPK_Giriş_Plan_Meas));

[  '621 Reclass', 'Amount' ] =  N: 
	- [ 'COGS - Discount Balance - Negative YTD' ];

[  '660 Reclass', 'Amount' ] =  N: 
	- [ '621 Reclass' ];
#EndRegion Turnover

#RegionStart Depreciation
[  'Stat - 630', 'Amount' ] =  N: 
  DB( 'Yatırım Arge - Amortisman', 'Toplam Duran Varlık', '9347777', !Version, !Period|'-YTD', 'Kanuni Amortisman - Mevcut' ) +
  DB( 'Yatırım Arge - Amortisman', 'Toplam Duran Varlık', '9347777', !Version, !Period|'-YTD', 'Kanuni Amortisman - Devir' ) +
  DB( 'Yatırım Arge - Amortisman', 'Toplam Duran Varlık', '9347777', !Version, !Period|'-YTD', 'Kanuni Amortisman - Düzeltme' );

[  'Stat - 631', 'Amount' ] =  N: 
	DB( 'Genel Giderler', 'Depreciation', 'All Stores + B2B + MP + U', 'Departman Toplam', !Version, !Period|'-YTD', 'Amount Cost' );

[  'Stat - 632', 'Amount' ] =  N: 
	DB( 'Genel Giderler', 'Depreciation', 'All Cost Centers', 'Departman Toplam', !Version, !Period|'-YTD', 'Amount Cost' ) 
  - DB( 'Genel Giderler', 'Depreciation', 'All Stores + B2B + MP + U', 'Departman Toplam', !Version, !Period|'-YTD', 'Amount Cost' )
  - DB( 'Genel Giderler', 'Depreciation', '9347777', 'Departman Toplam', !Version, !Period|'-YTD', 'Amount Cost' );

[  'IAS - 630', 'Amount' ] =  N: 
	DB('Yatırım Arge - Amortisman', 'Toplam Duran Varlık', '9347777', !Version, !Period|'-YTD', 'UMS Amortisman - Mevcut') 
  + DB('Yatırım Arge - Amortisman', 'Toplam Duran Varlık', '9347777', !Version, !Period|'-YTD', 'UMS Amortisman - Devir') 
  + DB('Yatırım Arge - Amortisman', 'Toplam Duran Varlık', '9347777', !Version, !Period|'-YTD', 'UMS Amortisman - Düzeltme') 
  + [ '630 Düzeltme' ];

[  'IAS - 631', 'Amount' ] =  N: 
	(DB('Yatırım Arge - Amortisman', 'Toplam Duran Varlık', 'All Stores + B2B + MP + U', !Version, !Period | '-YTD', 'UMS Amortisman - Mevcut') 
   + DB('Yatırım Arge - Amortisman', 'Toplam Duran Varlık', 'All Stores + B2B + MP + U', !Version, !Period | '-YTD', 'UMS Amortisman - Devir') 
   + DB('Yatırım Arge - Amortisman', 'Toplam Duran Varlık', 'All Stores + B2B + MP + U', !Version, !Period | '-YTD', 'UMS Amortisman - Düzeltme') 
   + DB('Yatırım Arge - Amortisman', 'Toplam Duran Varlık', 'AVM', !Version, !Period | '-YTD', 'UMS Amortisman - Mevcut') 
   + DB('Yatırım Arge - Amortisman', 'Toplam Duran Varlık', 'AVM', !Version, !Period | '-YTD', 'UMS Amortisman - Devir') 
   + DB('Yatırım Arge - Amortisman', 'Toplam Duran Varlık', 'AVM', !Version, !Period | '-YTD', 'UMS Amortisman - Düzeltme')) 
   + [ '631 Düzeltme' ];

[  'IAS - 632', 'Amount' ] =  N: 
	(DB('Yatırım Arge - Amortisman', 'Toplam Duran Varlık', 'Head Office', !Version, !Period | '-YTD', 'UMS Amortisman - Mevcut') 
     + DB('Yatırım Arge - Amortisman', 'Toplam Duran Varlık', 'Head Office', !Version, !Period | '-YTD', 'UMS Amortisman - Devir') 
     + DB('Yatırım Arge - Amortisman', 'Toplam Duran Varlık', 'Head Office', !Version, !Period | '-YTD', 'UMS Amortisman - Düzeltme')) 
  + (DB('Yatırım Arge - Amortisman', 'Toplam Duran Varlık', 'Depo', !Version, !Period | '-YTD', 'UMS Amortisman - Mevcut') 
     + DB('Yatırım Arge - Amortisman', 'Toplam Duran Varlık', 'Depo', !Version, !Period | '-YTD', 'UMS Amortisman - Devir') 
     + DB('Yatırım Arge - Amortisman', 'Toplam Duran Varlık', 'Depo', !Version, !Period | '-YTD', 'UMS Amortisman - Düzeltme')) 
  - [ 'IAS - 630' ] 
  + [ '632 Düzeltme' ];

[  'Adjustment - 630', 'Amount' ] =  N: 
	[ 'IAS - 630' ] - [ 'Stat - 630' ];

[  'Adjustment - 631', 'Amount' ] =  N: 
	[ 'IAS - 631' ] - [ 'Stat - 631' ];

[  'Adjustment - 632', 'Amount' ] =  N: 
	[ 'IAS - 632' ] - [ 'Stat - 632' ];
#EndRegion Depreciation

#RegionStart RJE
[  '193 / 370 Other Rec. Class.', 'Amount' ] =  N: 
	DB('Mali Tablo', '193', 'Kanuni', !Version, !Period, 'Closing')  ;

[  '136 / 120 Other Rec. Class.', 'Amount' ] =  N: 
	DB('Mali Tablo', '136', 'Kanuni', !Version, !Period, 'Closing')  ;

[  '656 / 660 Other Rec. Class.', 'Amount' ] =  N: 
	DB('Mali Tablo', '656', 'Kanuni', !Version, !Period, 'Closing')  ;

[  '646 / 642 Other Rec. Class.', 'Amount' ] =  N: 
	DB('Mali Tablo', '646', 'Kanuni', !Version, !Period, 'Closing')  ;

[  '264 / 0 Reclass', 'Amount' ] =  N: 
	DB('Mali Tablo', '264', 'Kanuni', !Version, !Period, 'Closing') ;

[  '268 Reclass', 'Amount' ] =  N: 
	DB('Yatırım Amortisman', 'Toplam Duran Varlık', 'All Cost Centers', !Version, !Period |'-YTD', 'UMS Amortisman - Final');

[  '257 Reclass', 'Amount' ] =  N: 
	- [ '268 Reclass' ];

[  '631', 'Amount' ] =  N: 
	DB( 'IK_MM_V_P', 'All Stores + B2B + MP + U', !Version, !Period|'-YTD', 'Kıdem Yasal' );

[  '632', 'Amount' ] =  N: 
	DB( 'IK_MM_V_P', 'Head Office', !Version, !Period|'-YTD', 'Kıdem Yasal' )
  + DB( 'IK_MM_V_P', 'Depo', !Version, !Period|'-YTD', 'Kıdem Yasal' );

[  '654', 'Amount' ] =  N: 
	[ '631' ] + [ '632' ];
#EndRegion RJE

#RegionStart Deferred Tax
[ 'Tax - BS Charge - 470', 'Amount' ] =  N: DB( 'Vergi Ertelenen', 'Toplam Geçici Farklar', !Version, !Period, 'Ertelenen Vergi - BS');
[ 'Tax - PL Charge - 691', 'Amount' ] =  N: DB( 'Vergi Ertelenen', 'Toplam Geçici Farklar', !Version, !Period, 'Ertelenen Vergi - PL');
#EndRegion Deferred Tax

FEEDERS;

[ 'Total Stock', 'Amount' ] => [ 'Stocks End' ];
[ {'COGS - cumulative', 'PY Period End Stocks', 'Stocks End'}, 'Amount'] => ['Purchases'];
[ 'Stock', 'Amount'] => DB( 'SPK Giriş Plan', 'PY Period End Stocks', !Version, ATTRS('Period', !Period, 'NextMonth'), !SPK_Giriş_Plan_Meas );
[ 'Purchase Consignment %', 'Amount' ] => [ 'Consignment _ purchases' ];
[ 'Rebate Consignment %', 'Amount' ] => [ 'Consignment _ rebate' ];
[ {'Purchases', 'Consignment _ purchases'}, 'Amount'] => ['Purchases (Exc. Consingment)'];
[ {'Rebate - Cumulative', 'Consignment _ rebate'}, 'Amount'] => ['Rebate (Exc. Consingment)'];
[ 'Purchases (Exc. Consingment)', 'Amount'] => ['% of Rebates in Total Purch. (Exc. Cons.)'];
[ '% of Rebates in Total Purch. (Exc. Cons.)', 'Amount'] => ['Rebate in Stocks'];
[ {'Rebate in Stocks', 'Rebate in stock opening balance'}, 'Amount'] => ['Rebate in stock adjustment'];
[ {'% of Rebates in Total Purch. (Exc. Cons.)', '% of Rebates in Total Purch. (oran düzeltme)'}, 'Amount'] => ['% of Rebates in Total Purch. (final oran )'];
[ '% of Rebates in Total Purch. (final oran )', 'Amount'] => ['Final Rebate in Stocks'];
[ {'Final Rebate in Stocks', 'Rebate in stock opening balance'}, 'Amount'] => ['Rebate in stock adjustment (Final)'];
[ 'Final Rebate in Stocks', 'Amount'] => DB( 'SPK Giriş Plan', 'Rebate in stock opening balance', !Version, ATTRS('Period', !Period, 'NextMonth'), !SPK_Giriş_Plan_Meas );
[ 'Rebate in stock opening balance', 'Amount'] => DB( 'SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'NextMonth'), !SPK_Giriş_Plan_Meas );
[ 'Final Rebate in Stocks', 'Amount'] => ['Rebate - BS Charge - 153'];
[ 'Rebate - BS Charge - 153', 'Amount'] => DB( 'SPK Giriş Plan', 'Rebate - PL Charge - 621', !Version, !Period, !SPK_Giriş_Plan_Meas );
  
[ 'PARO - PL Charge - 600', 'Amount' ] => [ 'PARO - BS Charge - 380' ];
[ 'PARO - BS Charge - 380', 'Amount' ] => DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'NextMonth'), 'Amount');
[ 'Holiday - PL Charge - 630', 'Amount' ] => [ 'Holiday - BS Charge - 373' ];
[ 'Holiday - PL Charge - 631', 'Amount' ] => [ 'Holiday - BS Charge - 373' ];
[ 'Holiday - PL Charge - 632', 'Amount' ] => [ 'Holiday - BS Charge - 373' ];
[ 'Holiday - BS Charge - 373', 'Amount' ] => DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'NextMonth'), 'Amount');
[ 'Litigation - PL Charge - 654', 'Amount' ] => [ 'Litigation - BS Charge - 373' ];
[ 'Litigation - BS Charge - 373', 'Amount' ] => DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'NextMonth'), 'Amount');
[{'NRV', 'Display', 'Shrinkage'}, 'Amount'] => DB( 'SPK Giriş Plan', 'NRV + Display + Shrinkage', !Version, ATTRS('Period', !Period, 'NextMonth'), !SPK_Giriş_Plan_Meas );
[{'NRV', 'Display', 'Shrinkage'}, 'Amount'] => [ 'NRV + Display + Shrinkage' ], [ 'Stock - BS Charge - 153' ], [ 'Stock Provision' ];

[ '2023-12', 'Amount' ] => [ 'Opening 2024' ];
[ '2024-12', 'Amount' ] => [ 'Opening 2025' ];
[ '2025-12', 'Amount' ] => [ 'Opening 2026' ];
[ '2026-12', 'Amount' ] => [ 'Opening 2027' ];
[ '2027-12', 'Amount' ] => [ 'Opening 2028' ];
[ '2028-12', 'Amount' ] => [ 'Opening 2029' ];
[ '2029-12', 'Amount' ] => [ 'Opening 2030' ];
[ 'SPK_Giriş_Acc':'108', 'Amount' ] => [ 'SPK_Giriş_Acc':'102' ];
[ 'Stock - BS Charge - 153', 'Amount' ] => [ 'Stock - PL Charge - 621' ];
[ 'Stock - BS Charge - 153', 'Amount' ] => DB('SPK Giriş Plan', 'Stock - PL Charge - 621', !Version, ATTRS('Period', !Period, 'NYMonth'), 'Amount');
[ 'TR - Discount Balance', 'Amount' ] => [ 'IAS39 TR - BS Charge - 120' ];
[ 'TP - Discount Balance', 'Amount' ] => [ 'IAS39 TP - BS Charge - 320' ];
[ 'CCR - Discount Balance', 'Amount' ] => [ 'IAS39 TR - BS Charge - 108' ];
[ 'Oth. T/R (exc. 108)', 'Amount' ] => DB('SPK Giriş Plan', 'Oth. T/R (exc. 108) - Avg', !Version, !Period, 'Amount');
[ 'Oth. T/R (exc. 108)', 'Amount' ] => DB('SPK Giriş Plan', 'Oth. T/R (exc. 108) - Avg', !Version, ATTRS('Period', !Period, 'NYMonth'), 'Amount');
[ 'Monthly B2B Sales', 'Amount' ] => DB('SPK Giriş Plan', 'Monthly B2B Sales - Sum', !Version, !Period, 'Amount');
[ 'Monthly B2B Sales', 'Amount' ] => DB('SPK Giriş Plan', 'Monthly B2B Sales - Sum', !Version, ATTRS('Period', !Period, 'NYMonth'), 'Amount');
[ 'Monthly B2B Sales - Sum', 'Amount' ] => DB('SPK Giriş Plan', 'Turnover rate - T/R', !Version, !Period, 'Amount');
[ 'Turnover rate - T/R', 'Amount' ] => DB('SPK Giriş Plan', 'Turnover days - T/R', !Version, !Period, 'Amount');
[ 'Oth. T/R (exc. 108)', 'Amount' ] => DB('SPK Giriş Plan', 'TR - Balance', !Version, !Period, 'Amount');
[ 'Turnover days - T/R', 'Amount' ] => DB('SPK Giriş Plan', 'TR - Turnover Days', !Version, !Period, 'Amount');
[ 'TR - Interest Rate', 'Amount' ] => DB('SPK Giriş Plan', 'TR - Discount Balance', !Version, !Period, 'Amount');
[ { 'TR - Balance', 'TR - Discount Balance' }, 'Amount' ] => DB('SPK Giriş Plan', 'TR - Net Balance', !Version, !Period, 'Amount');
[ 'TR - Discount Balance', 'Amount' ] => DB('SPK Giriş Plan', 'TR - Discount Balance - Negative YTD', !Version, !Period, 'Amount');
[ 'TR - Discount Balance - Negative YTD', 'Amount' ] => DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'NextMonth'), 'Amount');
[ 'Credit Card Rec.', 'Amount' ] => DB('SPK Giriş Plan', 'Credit Card Rec. - Avg', !Version, !Period, 'Amount');
[ 'Credit Card Rec.', 'Amount' ] => DB('SPK Giriş Plan', 'Credit Card Rec. - Avg', !Version, ATTRS('Period', !Period, 'NYMonth'), 'Amount');
[ 'Monthly Sales (exc. B2B)', 'Amount' ] => DB('SPK Giriş Plan', 'Monthly Sales (exc. B2B) - Sum', !Version, !Period, 'Amount');
[ 'Monthly Sales (exc. B2B)', 'Amount' ] => DB('SPK Giriş Plan', 'Monthly Sales (exc. B2B) - Sum', !Version, ATTRS('Period', !Period, 'NYMonth'), 'Amount');
[ 'Monthly Sales (exc. B2B) - Sum', 'Amount' ] => DB('SPK Giriş Plan', 'Turnover rate - CCR', !Version, !Period, 'Amount'), [ 'Turnover days - CCR' ];
[ 'Credit Card Rec.', 'Amount' ] => DB('SPK Giriş Plan', 'CCR - Balance', !Version, !Period, 'Amount');
[ 'Turnover days - CCR', 'Amount' ] => DB('SPK Giriş Plan', 'CCR - Turnover Days', !Version, !Period, 'Amount');
[ 'CCR - Interest Rate', 'Amount' ] => DB('SPK Giriş Plan', 'CCR - Discount Balance', !Version, !Period, 'Amount');
[ { 'CCR - Balance', 'CCR - Discount Balance' }, 'Amount' ] => DB('SPK Giriş Plan', 'CCR - Net Balance', !Version, !Period, 'Amount');
[ 'CCR - Discount Balance', 'Amount' ] => DB('SPK Giriş Plan', 'CCR - Discount Balance - Negative YTD', !Version, !Period, 'Amount');
[ 'CCR - Discount Balance - Negative YTD', 'Amount' ] => DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'NextMonth'), 'Amount');
[ { 'IAS39 TR - BS Charge - 120', 'IAS39 TR - BS Charge - 108' }, 'Amount' ] => DB('SPK Giriş Plan', 'IAS39 TR - PL Charge - 642', !Version, !Period, 'Amount');
[ { 'IAS39 TR - BS Charge - 120', 'IAS39 TR - BS Charge - 108' }, 'Amount' ] => DB('SPK Giriş Plan', 'IAS39 TR - PL Charge - 642', !Version, ATTRS('Period', !Period, 'NYMonth'), 'Amount');
[ { 'IAS39 TR - BS Charge - 120', 'IAS39 TR - BS Charge - 108' }, 'Amount' ] => DB('SPK Giriş Plan', 'IAS39 TR - PL Charge - 660', !Version, !Period, 'Amount');
[ { 'IAS39 TR - BS Charge - 120', 'IAS39 TR - BS Charge - 108' }, 'Amount' ] => DB('SPK Giriş Plan', 'IAS39 TR - PL Charge - 660', !Version, ATTRS('Period', !Period, 'NYMonth'), 'Amount');
[ 'Monthly COGS', 'Amount' ] => DB('SPK Giriş Plan', 'Monthly COGS - Sum', !Version, !Period, 'Amount');
[ 'Monthly COGS', 'Amount' ] => DB('SPK Giriş Plan', 'Monthly COGS - Sum', !Version, ATTRS('Period', !Period, 'NYMonth'), 'Amount');
[ 'T/P', 'Amount' ] => DB('SPK Giriş Plan', 'T/P - Avg', !Version, !Period, 'Amount');
[ 'T/P', 'Amount' ] => DB('SPK Giriş Plan', 'T/P - Avg', !Version, ATTRS('Period', !Period, 'NYMonth'), 'Amount');
[ { 'Monthly COGS - Sum', 'Stock' }, 'Amount' ] => DB('SPK Giriş Plan', 'T/P - Purchases', !Version, !Period, 'Amount');
[ 'Stock', 'Amount' ] => DB('SPK Giriş Plan', 'T/P - Purchases', !Version, ATTRS('Period', !Period, 'NYMonth'), 'Amount');
[ 'T/P - Purchases', 'Amount' ] => DB('SPK Giriş Plan', 'Turnover rate - T/P', !Version, !Period, 'Amount'), [ 'Turnover days - T/P' ];
[ 'T/P', 'Amount' ] => DB('SPK Giriş Plan', 'TP - Balance', !Version, !Period, 'Amount');
[ 'Turnover days - T/P', 'Amount' ] => DB('SPK Giriş Plan', 'TP - Turnover Days', !Version, !Period, 'Amount');
[ 'TP - Interest Rate', 'Amount' ] => DB('SPK Giriş Plan', 'TP - Discount Balance', !Version, !Period, 'Amount');
[ { 'TP - Balance', 'TP - Discount Balance' }, 'Amount' ] => DB('SPK Giriş Plan', 'TP - Net Balance', !Version, !Period, 'Amount');
[ 'TP - Discount Balance', 'Amount' ] => DB('SPK Giriş Plan', 'TP - Discount Balance - Negative YTD', !Version, !Period, 'Amount');
[ 'TP - Discount Balance - Negative YTD', 'Amount' ] => DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'NextMonth'), 'Amount');
[ 'IAS39 TP - BS Charge - 320', 'Amount' ] => DB('SPK Giriş Plan', 'IAS39 TP - PL Charge - 660', !Version, !Period, 'Amount');
[ 'IAS39 TP - BS Charge - 320', 'Amount' ] => DB('SPK Giriş Plan', 'IAS39 TP - PL Charge - 642', !Version, !Period, 'Amount');
[ 'IAS39 TP - BS Charge - 320', 'Amount' ] => DB('SPK Giriş Plan', 'IAS39 TP - PL Charge - 660', !Version, ATTRS('Period', !Period, 'NYMonth'), 'Amount');
[ 'IAS39 TP - BS Charge - 320', 'Amount' ] => DB('SPK Giriş Plan', 'IAS39 TP - PL Charge - 642', !Version, ATTRS('Period', !Period, 'NYMonth'), 'Amount');
[ 'Monthly B2B Sales', 'Amount' ] => DB('SPK Giriş Plan', 'B2B - Balance', !Version, !Period, 'Amount');
[ 'TR - Turnover Days', 'Amount' ] => DB('SPK Giriş Plan', 'B2B - Turnover Days', !Version, !Period, 'Amount');
[ 'TR - Interest Rate', 'Amount' ] => DB('SPK Giriş Plan', 'B2B - Interest Rate', !Version, !Period, 'Amount'), [ 'B2B - Discount Balance' ];
[ { 'B2B - Balance', 'B2B - Discount Balance' }, 'Amount' ] => DB('SPK Giriş Plan', 'B2B - Net Balance', !Version, !Period, 'Amount');
[ 'B2B - Discount Balance', 'Amount' ] => DB('SPK Giriş Plan', 'B2B - Discount Balance - Negative YTD', !Version, !Period, 'Amount');
[ 'B2B - Discount Balance - Negative YTD', 'Amount' ] => DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'NextMonth'), 'Amount');
[ 'Monthly Sales (exc. B2B)', 'Amount' ] => DB('SPK Giriş Plan', 'Oth.S - Balance', !Version, !Period, 'Amount');
[ 'CCR - Turnover Days', 'Amount' ] => DB('SPK Giriş Plan', 'Oth.S - Turnover Days', !Version, !Period, 'Amount');
[ 'CCR - Interest Rate', 'Amount' ] => DB('SPK Giriş Plan', 'Oth.S - Interest Rate', !Version, !Period, 'Amount'), [ 'Oth.S - Discount Balance' ];
[ { 'Oth.S - Balance', 'Oth.S - Discount Balance' }, 'Amount' ] => DB('SPK Giriş Plan', 'Oth.S - Net Balance', !Version, !Period, 'Amount');
[ 'Oth.S - Discount Balance', 'Amount' ] => DB('SPK Giriş Plan', 'Oth.S - Discount Balance - Negative YTD', !Version, !Period, 'Amount');
[ 'Oth.S - Discount Balance - Negative YTD', 'Amount' ] => DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'NextMonth'), 'Amount');
[ { 'B2B - Discount Balance - Negative YTD', 'Oth.S - Discount Balance - Negative YTD' }, 'Amount' ] => DB('SPK Giriş Plan', '600 Reclass', !Version, !Period, 'Amount');
[ '600 Reclass', 'Amount' ] => DB('SPK Giriş Plan', '642 Reclass', !Version, !Period, 'Amount');
[ 'Monthly COGS', 'Amount' ] => DB('SPK Giriş Plan', 'COGS - Balance', !Version, !Period, 'Amount');
[ 'Turnover days - T/P', 'Amount' ] => DB('SPK Giriş Plan', 'COGS - Turnover Days', !Version, !Period, 'Amount');
[ 'TP - Interest Rate', 'Amount' ] => DB('SPK Giriş Plan', 'COGS - Interest Rate', !Version, !Period, 'Amount'), [ 'COGS - Discount Balance' ];
[ { 'COGS - Balance', 'COGS - Discount Balance' }, 'Amount' ] => DB('SPK Giriş Plan', 'COGS - Net Balance', !Version, !Period, 'Amount');
[ 'COGS - Discount Balance', 'Amount' ] => DB('SPK Giriş Plan', 'COGS - Discount Balance - Negative YTD', !Version, !Period, 'Amount');
[ 'COGS - Discount Balance - Negative YTD', 'Amount' ] => DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'NextMonth'), 'Amount');
[ 'COGS - Discount Balance - Negative YTD', 'Amount' ] => DB('SPK Giriş Plan', '621 Reclass', !Version, !Period, 'Amount');
[ '621 Reclass', 'Amount' ] => DB('SPK Giriş Plan', '660 Reclass', !Version, !Period, 'Amount');
[ '268 Reclass', 'Amount' ] => DB('SPK Giriş Plan', '257 Reclass', !Version, !Period, 'Amount');
[ { 'IAS - 630', 'Stat - 630' }, 'Amount' ] => DB('SPK Giriş Plan', 'Adjustment - 630', !Version, !Period, 'Amount');
[ { 'IAS - 631', 'Stat - 631' }, 'Amount' ] => DB('SPK Giriş Plan', 'Adjustment - 631', !Version, !Period, 'Amount');
[ { 'IAS - 632', 'Stat - 632' }, 'Amount' ] => DB('SPK Giriş Plan', 'Adjustment - 632', !Version, !Period, 'Amount');
[ '631', 'Amount' ] => DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'NextMonth'), 'Amount');
[ '632', 'Amount' ] => DB('SPK Giriş Plan', !SPK_Giriş_Acc, !Version, ATTRS('Period', !Period, 'NextMonth'), 'Amount');
[ { '631', '632' }, 'Amount' ] => DB('SPK Giriş Plan', '654', !Version, !Period, 'Amount');

#Mali Tablo Feedarı.
# [ 'SPK_Giriş_Acc':'102', 'Amount' ] => DB('Mali Tablo', '102', '108 to 102 Reclass', !Version, !Period, 'Movement');
# [ 'SPK_Giriş_Acc':'102', 'Amount' ] => DB('Mali Tablo', '102', '108 to 102 Reclass', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ 'SPK_Giriş_Acc':'108', 'Amount' ] => DB('Mali Tablo', '108', '108 to 102 Reclass', !Version, !Period, 'Movement');
# [ 'SPK_Giriş_Acc':'108', 'Amount' ] => DB('Mali Tablo', '108', '108 to 102 Reclass', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'IAS39 TR - BS Charge - 108', 'Amount' ] => DB('Mali Tablo', '108', 'IAS39 (T/R)', !Version, !Period, 'Movement');
[ 'IAS39 TR - BS Charge - 108', 'Amount' ] => DB('Mali Tablo', '108', 'IAS39 (T/R)', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'IAS39 TR - BS Charge - 120', 'Amount' ] => DB('Mali Tablo', '120', 'IAS39 (T/R)', !Version, !Period, 'Movement');
[ 'IAS39 TR - BS Charge - 120', 'Amount' ] => DB('Mali Tablo', '120', 'IAS39 (T/R)', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ 'Receivables from RP', 'Amount' ] => DB('Mali Tablo', '120', 'Receivables from RP', !Version, !Period, 'Movement');
# [ 'Receivables from RP', 'Amount' ] => DB('Mali Tablo', '120', 'Receivables from RP', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ 'Receivables from RP', 'Amount' ] => DB('Mali Tablo', '131', 'Receivables from RP', !Version, !Period, 'Movement');
# [ 'Receivables from RP', 'Amount' ] => DB('Mali Tablo', '131', 'Receivables from RP', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Stock - BS Charge - 153', 'Amount' ] => DB('Mali Tablo', '153', 'NRV', !Version, !Period, 'Movement');
[ 'Stock - BS Charge - 153', 'Amount' ] => DB('Mali Tablo', '153', 'NRV', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Rebate - BS Charge - 153', 'Amount' ] => DB('Mali Tablo', '153', 'Rebate in Stock', !Version, !Period, 'Movement');
[ 'Rebate - BS Charge - 153', 'Amount' ] => DB('Mali Tablo', '153', 'Rebate in Stock', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Eko-180', 'Amount' ] => DB('Mali Tablo', '180', 'Eko', !Version, !Period, 'Movement');
[ 'Eko-180', 'Amount' ] => DB('Mali Tablo', '180', 'Eko', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ '373 to 320 Tax Reclass', 'Amount' ] => DB('Mali Tablo', '191', '373 to 320 Tax Reclass', !Version, !Period, 'Movement');
# [ '373 to 320 Tax Reclass', 'Amount' ] => DB('Mali Tablo', '191', '373 to 320 Tax Reclass', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'IFRS 16 - BS Charge - 252', 'Amount' ] => DB('Mali Tablo', '252', 'IFRS 16', !Version, !Period, 'Movement');
[ 'IFRS 16 - BS Charge - 252', 'Amount' ] => DB('Mali Tablo', '252', 'IFRS 16', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'IFRS 16 - BS Charge - 256', 'Amount' ] => DB('Mali Tablo', '256', 'IFRS 16', !Version, !Period, 'Movement');
[ 'IFRS 16 - BS Charge - 256', 'Amount' ] => DB('Mali Tablo', '256', 'IFRS 16', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Ar-Ge - BS Charge - 258', 'Amount' ] => DB('Mali Tablo', '258', 'Ar-Ge AJE', !Version, !Period, 'Movement');
[ 'Ar-Ge - BS Charge - 258', 'Amount' ] => DB('Mali Tablo', '258', 'Ar-Ge AJE', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Ar-Ge - BS Charge - 263', 'Amount' ] => DB('Mali Tablo', '263', 'Ar-Ge AJE', !Version, !Period, 'Movement');
[ 'Ar-Ge - BS Charge - 263', 'Amount' ] => DB('Mali Tablo', '263', 'Ar-Ge AJE', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Ar-Ge - BS Charge - 268', 'Amount' ] => DB('Mali Tablo', '268', 'Ar-Ge AJE', !Version, !Period, 'Movement');
[ 'Ar-Ge - BS Charge - 268', 'Amount' ] => DB('Mali Tablo', '268', 'Ar-Ge AJE', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ '37308 / 300 Reclass', 'Amount' ] => DB('Mali Tablo', '300', '37308 / 300 Reclass', !Version, !Period, 'Movement');
# [ '37308 / 300 Reclass', 'Amount' ] => DB('Mali Tablo', '300', '37308 / 300 Reclass', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'IFRS 16 - BS Charge - 309', 'Amount' ] => DB('Mali Tablo', '309', 'IFRS 16', !Version, !Period, 'Movement');
[ 'IFRS 16 - BS Charge - 309', 'Amount' ] => DB('Mali Tablo', '309', 'IFRS 16', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ '373 to 320 Reclass', 'Amount' ] => DB('Mali Tablo', '320', '373 to 320 Reclass', !Version, !Period, 'Movement');
# [ '373 to 320 Reclass', 'Amount' ] => DB('Mali Tablo', '320', '373 to 320 Reclass', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');   
# [ '373 to 320 Tax Reclass', 'Amount' ] => DB('Mali Tablo', '320', '373 to 320 Tax Reclass', !Version, !Period, 'Movement');
# [ '373 to 320 Tax Reclass', 'Amount' ] => DB('Mali Tablo', '320', '373 to 320 Tax Reclass', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'IAS39 TP - BS Charge - 320', 'Amount' ] => DB('Mali Tablo', '320', 'IAS39 (T/P)', !Version, !Period, 'Movement');
[ 'IAS39 TP - BS Charge - 320', 'Amount' ] => DB('Mali Tablo', '320', 'IAS39 (T/P)', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ 'Payebles to RP', 'Amount' ] => DB('Mali Tablo', '320', 'Payebles to RP', !Version, !Period, 'Movement');
# [ 'Payebles to RP', 'Amount' ] => DB('Mali Tablo', '320', 'Payebles to RP', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ 'Kingfisher', 'Amount' ] => DB('Mali Tablo', '323', 'Payebles to RP', !Version, !Period, 'Movement');
# [ 'Kingfisher', 'Amount' ] => DB('Mali Tablo', '323', 'Payebles to RP', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ {'Payebles to RP', 'Kingfisher'}, 'Amount' ] => DB('Mali Tablo', '331', 'Payebles to RP', !Version, !Period, 'Movement');
# [ {'Payebles to RP', 'Kingfisher'}, 'Amount' ] => DB('Mali Tablo', '331', 'Payebles to RP', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Holiday - BS Charge - 373', 'Amount' ] => DB('Mali Tablo', '373', 'Holiday Pay', !Version, !Period, 'Movement');
[ 'Holiday - BS Charge - 373', 'Amount' ] => DB('Mali Tablo', '373', 'Holiday Pay', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');  
[ 'Litigation - BS Charge - 373', 'Amount' ] => DB('Mali Tablo', '373', 'Litigation', !Version, !Period, 'Movement');
[ 'Litigation - BS Charge - 373', 'Amount' ] => DB('Mali Tablo', '373', 'Litigation', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ '373 to 320 Reclass', 'Amount' ] => DB('Mali Tablo', '373', '373 to 320 Reclass', !Version, !Period, 'Movement');
# [ '373 to 320 Reclass', 'Amount' ] => DB('Mali Tablo', '373', '373 to 320 Reclass', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');  
# [ '37308 / 300 Reclass', 'Amount' ] => DB('Mali Tablo', '373', '37308 / 300 Reclass', !Version, !Period, 'Movement');
# [ '37308 / 300 Reclass', 'Amount' ] => DB('Mali Tablo', '373', '37308 / 300 Reclass', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'PARO - BS Charge - 380', 'Amount' ] => DB('Mali Tablo', '380', 'PARO (IFRIC13)', !Version, !Period, 'Movement');
[ 'PARO - BS Charge - 380', 'Amount' ] => DB('Mali Tablo', '380', 'PARO (IFRIC13)', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'IFRS 16 - BS Charge - 409', 'Amount' ] => DB('Mali Tablo', '409', 'IFRS 16', !Version, !Period, 'Movement');
[ 'IFRS 16 - BS Charge - 409', 'Amount' ] => DB('Mali Tablo', '409', 'IFRS 16', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Tax - BS Charge - 470', 'Amount' ] => DB('Mali Tablo', '470', 'Deferred Tax', !Version, !Period, 'Movement');
[ 'Tax - BS Charge - 470', 'Amount' ] => DB('Mali Tablo', '470', 'Deferred Tax', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'PARO - PL Charge - 600', 'Amount' ] => DB('Mali Tablo', '600', 'PARO (IFRIC13)', !Version, !Period, 'Movement');
[ 'PARO - PL Charge - 600', 'Amount' ] => DB('Mali Tablo', '600', 'PARO (IFRIC13)', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ '600 Reclass', 'Amount' ] => DB('Mali Tablo', '600', 'IAS18 (Sales)', !Version, !Period, 'Movement');
# [ '600 Reclass', 'Amount' ] => DB('Mali Tablo', '600', 'IAS18 (Sales)', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Stock - PL Charge - 621', 'Amount' ] => DB('Mali Tablo', '621', 'NRV', !Version, !Period, 'Movement');
[ 'Stock - PL Charge - 621', 'Amount' ] => DB('Mali Tablo', '621', 'NRV', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Rebate - PL Charge - 621', 'Amount' ] => DB('Mali Tablo', '621', 'Rebate in Stock', !Version, !Period, 'Movement');
[ 'Rebate - PL Charge - 621', 'Amount' ] => DB('Mali Tablo', '621', 'Rebate in Stock', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ '621 Reclass', 'Amount' ] => DB('Mali Tablo', '621', 'IAS18 (COGS)', !Version, !Period, 'Movement');
# [ '621 Reclass', 'Amount' ] => DB('Mali Tablo', '621', 'IAS18 (COGS)', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Holiday - PL Charge - 630', 'Amount' ] => DB('Mali Tablo', '630', 'Holiday Pay', !Version, !Period, 'Movement');
[ 'Holiday - PL Charge - 630', 'Amount' ] => DB('Mali Tablo', '630', 'Holiday Pay', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Ar-Ge - PL Charge - 630', 'Amount' ] => DB('Mali Tablo', '630', 'Ar-Ge AJE', !Version, !Period, 'Movement');
[ 'Ar-Ge - PL Charge - 630', 'Amount' ] => DB('Mali Tablo', '630', 'Ar-Ge AJE', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Adjustment - 630', 'Amount' ] => DB('Mali Tablo', '630', 'Depr. (Stat/IAS9)', !Version, !Period, 'Movement');
[ 'Adjustment - 630', 'Amount' ] => DB('Mali Tablo', '630', 'Depr. (Stat/IAS9)', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Adjustment - 631', 'Amount' ] => DB('Mali Tablo', '631', 'Depr. (Stat/IAS9)', !Version, !Period, 'Movement');
[ 'Adjustment - 631', 'Amount' ] => DB('Mali Tablo', '631', 'Depr. (Stat/IAS9)', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Holiday - PL Charge - 631', 'Amount' ] => DB('Mali Tablo', '631', 'Holiday Pay', !Version, !Period, 'Movement');
[ 'Holiday - PL Charge - 631', 'Amount' ] => DB('Mali Tablo', '631', 'Holiday Pay', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'IFRS 16 - PL Charge - 631', 'Amount' ] => DB('Mali Tablo', '631', 'IFRS 16', !Version, !Period, 'Movement');
[ 'IFRS 16 - PL Charge - 631', 'Amount' ] => DB('Mali Tablo', '631', 'IFRS 16', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ '631', 'Amount' ] => DB('Mali Tablo', '631', 'KIDEM Rje', !Version, !Period, 'Movement');
# [ '631', 'Amount' ] => DB('Mali Tablo', '631', 'KIDEM Rje', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Adjustment - 632', 'Amount' ] => DB('Mali Tablo', '632', 'Depr. (Stat/IAS9)', !Version, !Period, 'Movement');
[ 'Adjustment - 632', 'Amount' ] => DB('Mali Tablo', '632', 'Depr. (Stat/IAS9)', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Holiday - PL Charge - 632', 'Amount' ] => DB('Mali Tablo', '632', 'Holiday Pay', !Version, !Period, 'Movement');
[ 'Holiday - PL Charge - 632', 'Amount' ] => DB('Mali Tablo', '632', 'Holiday Pay', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'IFRS 16 - PL Charge - 632', 'Amount' ] => DB('Mali Tablo', '632', 'IFRS 16', !Version, !Period, 'Movement');
[ 'IFRS 16 - PL Charge - 632', 'Amount' ] => DB('Mali Tablo', '632', 'IFRS 16', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ '632', 'Amount' ] => DB('Mali Tablo', '632', 'KIDEM Rje', !Version, !Period, 'Movement');
# [ '632', 'Amount' ] => DB('Mali Tablo', '632', 'KIDEM Rje', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ '642 Reclass', 'Amount' ] => DB('Mali Tablo', '642', 'IAS18 (Sales)', !Version, !Period, 'Movement');
# [ '642 Reclass', 'Amount' ] => DB('Mali Tablo', '642', 'IAS18 (Sales)', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'IAS39 TP - PL Charge - 642', 'Amount' ] => DB('Mali Tablo', '642', 'IAS39 (T/P)', !Version, !Period, 'Movement');
[ 'IAS39 TP - PL Charge - 642', 'Amount' ] => DB('Mali Tablo', '642', 'IAS39 (T/P)', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'IAS39 TR - PL Charge - 642', 'Amount' ] => DB('Mali Tablo', '642', 'IAS39 (T/R)', !Version, !Period, 'Movement');
[ 'IAS39 TR - PL Charge - 642', 'Amount' ] => DB('Mali Tablo', '642', 'IAS39 (T/R)', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');  
# [ 'Tfs Reclass', 'Amount' ] => DB('Mali Tablo', '642', 'Tfs Reclass', !Version, !Period, 'Movement');
# [ 'Tfs Reclass', 'Amount' ] => DB('Mali Tablo', '642', 'Tfs Reclass', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');  
# [ '646 / 642 Other Rec. Class.', 'Amount' ] => DB('Mali Tablo', '642', 'Other Rec. Class.', !Version, !Period, 'Movement');
# [ '646 / 642 Other Rec. Class.', 'Amount' ] => DB('Mali Tablo', '642', 'Other Rec. Class.', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ '646 / 642 Other Rec. Class.', 'Amount' ] => DB('Mali Tablo', '646', 'Other Rec. Class.', !Version, !Period, 'Movement');
# [ '646 / 642 Other Rec. Class.', 'Amount' ] => DB('Mali Tablo', '646', 'Other Rec. Class.', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'IFRS 16 - PL Charge - 646', 'Amount' ] => DB('Mali Tablo', '646', 'IFRS 16', !Version, !Period, 'Movement');
[ 'IFRS 16 - PL Charge - 646', 'Amount' ] => DB('Mali Tablo', '646', 'IFRS 16', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Litigation - PL Charge - 654', 'Amount' ] => DB('Mali Tablo', '654', 'Litigation', !Version, !Period, 'Movement');
[ 'Litigation - PL Charge - 654', 'Amount' ] => DB('Mali Tablo', '654', 'Litigation', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ '654', 'Amount' ] => DB('Mali Tablo', '654', 'KIDEM Rje', !Version, !Period, 'Movement');
# [ '654', 'Amount' ] => DB('Mali Tablo', '654', 'KIDEM Rje', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'IFRS 16 - PL Charge - 656', 'Amount' ] => DB('Mali Tablo', '656', 'IFRS 16', !Version, !Period, 'Movement');
[ 'IFRS 16 - PL Charge - 656', 'Amount' ] => DB('Mali Tablo', '656', 'IFRS 16', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'IAS39 TR - PL Charge - 660', 'Amount' ] => DB('Mali Tablo', '660', 'IAS39 (T/R)', !Version, !Period, 'Movement');
[ 'IAS39 TR - PL Charge - 660', 'Amount' ] => DB('Mali Tablo', '660', 'IAS39 (T/R)', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'IAS39 TP - PL Charge - 660', 'Amount' ] => DB('Mali Tablo', '660', 'IAS39 (T/P)', !Version, !Period, 'Movement');
[ 'IAS39 TP - PL Charge - 660', 'Amount' ] => DB('Mali Tablo', '660', 'IAS39 (T/P)', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Eko-660', 'Amount' ] => DB('Mali Tablo', '660', 'Eko', !Version, !Period, 'Movement');
[ 'Eko-660', 'Amount' ] => DB('Mali Tablo', '660', 'Eko', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'IFRS 16 - PL Charge - 660', 'Amount' ] => DB('Mali Tablo', '660', 'IFRS 16', !Version, !Period, 'Movement');
[ 'IFRS 16 - PL Charge - 660', 'Amount' ] => DB('Mali Tablo', '660', 'IFRS 16', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
# [ '660 Reclass', 'Amount' ] => DB('Mali Tablo', '660', 'IAS18 (COGS)', !Version, !Period, 'Movement');
# [ '660 Reclass', 'Amount' ] => DB('Mali Tablo', '660', 'IAS18 (COGS)', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');
[ 'Tax - PL Charge - 691', 'Amount' ] => DB('Mali Tablo', '691', 'Deferred Tax', !Version, !Period, 'Movement');  
[ 'Tax - PL Charge - 691', 'Amount' ] => DB('Mali Tablo', '691', 'Deferred Tax', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Movement');

#Mali Tablo KGK Feederları.
[ 'SPK_Giriş_Acc':'108', 'Amount' ] => DB('Mali Tablo', 'KGK.T010104', 'KGK', !Version, !Period, 'Opening');
[ 'IFRS 16 - BS Charge - 309', 'Amount' ] => DB('Mali Tablo', 'KGK.T03K', 'KGK', !Version, !Period, 'Opening');
[ 'Holiday - PL Charge - 630', 'Amount' ] => DB('Mali Tablo', 'KGK.T075.NG0599', 'KGK', !Version, !Period, 'Opening'); 
[ 'IFRS 16 - PL Charge - 660', 'Amount' ] => DB('Mali Tablo', 'KGK.T0810106', 'KGK', !Version, !Period, 'Opening'); 
[ 'IFRS 16 - BS Charge - 252', 'Amount' ] => DB('Mali Tablo', 'KGK.SKH05.HD03', 'KGK', !Version, !Period, 'Opening');
[ 'IFRS 16 - BS Charge - 252', 'Amount' ] => DB('Mali Tablo', 'KGK.SKH05.HD03', 'KGK', !Version, ATTRS('Period', !Period, 'NextMonth'), 'Opening');  

#Vergi Ertelenen Küpü Feederları.
['Stock - BS Charge - 153', 'Amount'] => DB( 'Vergi Ertelenen', 'Inventory (NRV)', !Version, !Period, 'Tutar - SPK' );
[{'IAS39 TR - BS Charge - 120', 'IAS39 TR - BS Charge - 108'}, 'Amount'] => DB( 'Vergi Ertelenen', 'IAS39 (TR)', !Version, !Period, 'Tutar - SPK' );
['IAS39 TP - BS Charge - 320', 'Amount'] => DB( 'Vergi Ertelenen', 'IAS39 (TP)', !Version, !Period, 'Tutar - SPK' );
['Holiday - BS Charge - 373', 'Amount'] => DB( 'Vergi Ertelenen', 'Unused vac.', !Version, !Period, 'Tutar - SPK' );
['PARO - BS Charge - 380', 'Amount'] => DB( 'Vergi Ertelenen', 'PARO', !Version, !Period, 'Tutar - SPK' );
['Litigation - BS Charge - 373', 'Amount'] => DB( 'Vergi Ertelenen', 'Lawsuit prov.', !Version, !Period, 'Tutar - SPK' );
['Rebate - BS Charge - 153', 'Amount'] => DB( 'Vergi Ertelenen', 'Rebate in Stock', !Version, !Period, 'Tutar - SPK' );
[{'IFRS 16 - BS Charge - 252', 'IFRS 16 - BS Charge - 256', 'IFRS 16 - BS Charge - 309', 'IFRS 16 - BS Charge - 409'}, 'Amount'] => DB( 'Vergi Ertelenen', 'IFRS 16', !Version, !Period, 'Tutar - SPK' );
