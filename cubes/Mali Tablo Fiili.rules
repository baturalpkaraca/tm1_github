SKIPCHECK;

#Aylığa çevirme kuralı.

[ 'Fiili', 'Amount - Monthly' ] =  N: 
	IF(SUBST(!Period, 6, 2) @= '01', [ 'Amount - Final' ], [ 'Amount - Final' ] - DB('Mali Tablo Fiili', !Mizan_Hesapları_Uclu, !Mali_Tablo_Tipi, !Version_Actual, ATTRS('Period', !Period, 'PrevMonth'), 'Amount - Final'));

[ 'Fiili', 'Kanuni', { '630', '631', '632', '660' }, 'Amount' ] =  N: STET;
[ 'Fiili', {'520', '530', '560'}, 'SPK Sermaye', '2022-12', 'Amount' ] =  N: STET;
[ 'Fiili', '0', 'Depr. (Stat/IAS9)', 'Amount' ] =  N: IF( SUBST( !Period, 1, 4 ) @= '2022', STET, CONTINUE );
[ 'Fiili', '570', 'SPK Sermaye', 'Amount' ] =  N: IF( SUBST( !Period, 1, 4 ) @= '2023', STET, CONTINUE );

[ 'Fiili', 'Kanuni', 'Amount' ] =  N: 
	DB('Fiili Mizan Karşılık Sonrası', !Mizan_Hesapları_Uclu, 'Tutar - Nihai', !Version_Actual, !Period, 'Amount');

#630 Düzeltme

[ 'Fiili', '630', '630 Düzeltme', 'Amount' ] =  N: 
  (DB('Fiili', 'COST', '9347777', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') + 
  DB('Fiili', 'Marketing', '9347777', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') + 
  DB('Fiili', 'Sales Transportation Expenses', '9347777', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') + 
  DB('Fiili', 'Bank Interest Expenses', '9347777', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') + 
  DB('Fiili', 'Given Exchange Rate Differences', '9347777', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') + 
  DB('Fiili', 'Over Due Interest Expenses', '9347777', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') + 
  DB('Fiili', 'Other Financial Expenses', '9347777', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') + 
  DB('Fiili', 'Credit Card Commissions', '9347777', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') + 
  DB('Fiili', '6540300001', '9347777', !Version_Actual, !Period, 'Karşılık Sonrası - YTD'));

#631 Düzeltme

[ 'Fiili', '631', '631 Düzeltme', 'Amount' ] =  N: 
  DB('Fiili', 'COST', 'All Stores + B2B + MP + U', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') - 
  DB('Fiili', 'Bank Interest Expenses', 'All Stores + B2B + MP + U', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') - 
  DB('Fiili', 'Given Exchange Rate Differences', 'All Stores + B2B + MP + U', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') - 
  DB('Fiili', 'Over Due Interest Expenses', 'All Stores + B2B + MP + U', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') - 
  DB('Fiili', 'Other Financial Expenses', 'All Stores + B2B + MP + U', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') - 
  DB('Fiili', 'Credit Card Commissions', 'All Stores + B2B + MP + U', !Version_Actual, !Period, 'Karşılık Sonrası - YTD');

#632 Düzeltme

[ 'Fiili', '632', '632 Düzeltme', 'Amount' ] =  N: 
  DB('Fiili', 'COST', 'Head Office', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') + 
  DB('Fiili', 'COST', 'Depo', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') - 
  DB('Fiili', 'Bank Interest Expenses', 'Head Office', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') - 
  DB('Fiili', 'Given Exchange Rate Differences', 'Head Office', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') - 
  DB('Fiili', 'Over Due Interest Expenses', 'Head Office', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') - 
  DB('Fiili', 'Other Financial Expenses', 'Head Office', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') - 
  DB('Fiili', 'Credit Card Commissions', 'Head Office', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') - 
  DB('Fiili', 'Bank Interest Expenses', 'Depo', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') - 
  DB('Fiili', 'Given Exchange Rate Differences', 'Depo', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') - 
  DB('Fiili', 'Over Due Interest Expenses', 'Depo', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') - 
  DB('Fiili', 'Other Financial Expenses', 'Depo', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') -
  DB('Fiili', 'Credit Card Commissions', 'Depo', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') -
  DB('Mali Tablo Fiili', '630', '630 Düzeltme', !Version_Actual, !Period, 'Amount - Final');

#660 Düzeltme

[ 'Fiili', '660', '660 Düzeltme', 'Amount' ] =  N: 
  DB('Fiili', 'Credit Card Commissions', 'All Cost Centers', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') - 
  DB('Fiili', 'Credit Card Commissions', 'AVM', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') - 
  DB('Fiili', 'Credit Card Commissions', 'Depo', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') -
  DB('Fiili', 'Credit Card Commissions', 'Head Office', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') + 
  DB('Fiili', 'Bank Interest Expenses', 'All Cost Centers', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') +
  DB('Fiili', 'Other Financial Expenses', 'All Cost Centers', !Version_Actual, !Period, 'Karşılık Sonrası - YTD') + 
  DB('Fiili', 'Over Due Interest Expenses', 'All Cost Centers', !Version_Actual, !Period, 'Karşılık Sonrası - YTD');

#SPK Kuralları
[ 'Fiili', 'SPK.EBT - EBITDA', 'SPK Giriş', 'Amount' ] =  N: 
    ['SPK.FK.PL','Mali_Tablo_Tipi':'SPK','Amount - Final']
  + DB( 'Yatırım Amortisman Fiili', 'Toplam Duran Varlık', 'All Cost Centers', !Version_Actual, !Period|'-YTD', 'UMS Amortisman - Mevcut' )
  + DB( 'Yatırım Amortisman Fiili', 'Toplam Duran Varlık', 'All Cost Centers', !Version_Actual, !Period|'-YTD', 'UMS Amortisman - Devir' )
  + DB( 'Yatırım Amortisman Fiili', 'Toplam Duran Varlık', 'All Cost Centers', !Version_Actual, !Period|'-YTD', 'UMS Amortisman - Düzeltme' );

[ 'Fiili', '0', 'Depr. (Stat/IAS9)', 'Amount' ] =  N: IF( ATTRN( 'Period', !Period, 'Index' ) >= 36,
    DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'SPK', !Version_Actual, ATTRS( 'Period', !Period, 'PrevMonth' ), 'Amount - Final' )
  + DB( 'Yatırım Amortisman Fiili', '264', 'All Cost Centers', !Version_Actual, !Period, 'Kanuni Yatırım - Final' ), CONTINUE);

[ 'Fiili', '0', 'Depr. (Stat/IAS9)', 'Amount' ] =  N: 
    DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'SPK', !Version_Actual, ATTRS( 'Period', !Period, 'PrevMonth' ), 'Amount' )
  + DB( 'Yatırım Amortisman Fiili', '264', 'All Cost Centers', !Version_Actual, !Period, 'Kanuni Yatırım - Final' );

[ 'Fiili', 'Mizan_Hesapları_Uclu':'100', '108 to 102 Reclass', 'Amount' ] =  N: 
	DB('SPK Giriş', '100', !Version_Actual, !Period, 'Amount');

[ 'Fiili', 'Mizan_Hesapları_Uclu':'102', '181 to 102 Reclass', 'Amount' ] =  N: 
	DB('SPK Giriş', '181 to 102 Reclass', !Version_Actual, !Period, 'Amount');

[ 'Fiili', 'Mizan_Hesapları_Uclu':'108', '108 to 102 Reclass', 'Amount' ] =  N: 
	DB('SPK Giriş', '108', !Version_Actual, !Period, 'Amount');

[ 'Fiili', 'Mizan_Hesapları_Uclu':'108', 'IAS39 (T/R)', 'Amount' ] =  N: 
    - DB('SPK Giriş', 'IAS39 TR - BS Charge - 108', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '120', 'IAS39 (T/R)', 'Amount' ] =  N:  
	- DB('SPK Giriş', 'IAS39 TR - BS Charge - 120', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '120', 'Other Rec. Class.', 'Amount' ] =  N: IF( ATTRN( 'Period', !Period, 'Index' ) >= 36, STET, ['136', 'Final Kanuni', 'Amount - Final']);

[ 'Fiili', '120', 'Receivables from RP', 'Amount' ] =  N: 
	- DB('SPK Giriş', 'Receivables from RP', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '131', 'Receivables from RP', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Receivables from RP', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '136', 'Other Rec. Class.', 'Amount' ] =  N: IF( ATTRN( 'Period', !Period, 'Index' ) >= 36, STET, - ['136', 'Final Kanuni', 'Amount - Final']);

[ 'Fiili', '153', 'NRV', 'Amount' ] =  N: 
	- DB('SPK Giriş', 'Stock - BS Charge - 153', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '153', 'Rebate in Stock', 'Amount' ] =  N: 
	- DB('SPK Giriş', 'Rebate - BS Charge - 153', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '180', 'Eko', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Eko-180', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '181', '181 to 102 Reclass', 'Amount' ] =  N: 
	- DB('SPK Giriş', '181 to 102 Reclass', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '191', '373 to 320 Tax Reclass', 'Amount' ] =  N: 
	- DB('SPK Giriş', '373 to 320 Tax Reclass', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '193', 'Other Rec. Class.', 'Amount' ] =  N: IF( ATTRN( 'Period', !Period, 'Index' ) >= 36, STET, - ['193', 'Final Kanuni', 'Amount - Final']);

[ 'Fiili', {'250', '254', '255', '258', '260', '261', '262', '263'}, 'Depr. (Stat/IAS9)', 'Amount' ] =  N: IF( NUMBR( SUBST( !Period, 1, 4 )) >= 2024, 
    DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'SPK', !Version_Actual, ATTRS( 'Period', !Period, 'PrevMonth' ), 'Amount - Final' )
  + DB( 'Yatırım Amortisman Fiili', !Mizan_Hesapları_Uclu, 'All Cost Centers', !Version_Actual, !Period, 'Kanuni Yatırım - Final' )
  - DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'Final Kanuni', !Version_Actual, !Period, 'Amount' ), 
    DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'SPK', !Version_Actual, ATTRS( 'Period', !Period, 'PrevMonth' ), 'Amount' )
  + DB( 'Yatırım Amortisman Fiili', !Mizan_Hesapları_Uclu, 'All Cost Centers', !Version_Actual, !Period, 'Kanuni Yatırım - Final' )
  - DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'Final Kanuni', !Version_Actual, !Period, 'Amount' ) );

[ 'Fiili', '252', 'IFRS 16', 'Amount' ] =  N: 
	DB('SPK Giriş', 'IFRS 16 - BS Charge - 252', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '256', 'IFRS 16', 'Amount' ] =  N: 
	DB('SPK Giriş', 'IFRS 16 - BS Charge - 256', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '257', 'Depr. (Stat/IAS9)', 'Amount' ] =  N: IF( NUMBR( SUBST( !Period, 1, 4 )) >= 2024, 
   (DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'SPK', !Version_Actual, ATTRS( 'Period', !Period, 'PrevMonth' ), 'Amount - Final' )
  - DB( 'Yatırım Amortisman Fiili', '254', 'All Cost Centers', !Version_Actual, !Period, 'UMS Amortisman - Final' )
  - DB( 'Yatırım Amortisman Fiili', '255', 'All Cost Centers', !Version_Actual, !Period, 'UMS Amortisman - Final' )
  - DB( 'Yatırım Amortisman Fiili', '264', 'All Cost Centers', !Version_Actual, !Period, 'UMS Amortisman - Final' ))
  - DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'Final Kanuni', !Version_Actual, !Period, 'Amount' ),
     (DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'SPK', !Version_Actual, ATTRS( 'Period', !Period, 'PrevMonth' ), 'Amount' )
  - DB( 'Yatırım Amortisman Fiili', '254', 'All Cost Centers', !Version_Actual, !Period, 'UMS Amortisman - Final' )
  - DB( 'Yatırım Amortisman Fiili', '255', 'All Cost Centers', !Version_Actual, !Period, 'UMS Amortisman - Final' )
  - DB( 'Yatırım Amortisman Fiili', '264', 'All Cost Centers', !Version_Actual, !Period, 'UMS Amortisman - Final' ))
  - DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'Final Kanuni', !Version_Actual, !Period, 'Amount' ));

[ 'Fiili', '258', 'Ar-Ge AJE', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Ar-Ge - BS Charge - 258', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '263', 'Ar-Ge AJE', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Ar-Ge - BS Charge - 263', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '264', 'Depr. (Stat/IAS9)', 'Amount' ] =  N: - ['264', 'Final Kanuni', 'Amount'];

[ 'Fiili', '268', 'Ar-Ge AJE', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Ar-Ge - BS Charge - 268', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '268', 'Depr. (Stat/IAS9)', 'Amount' ] =  N: IF( NUMBR( SUBST( !Period, 1, 4 )) >= 2024, 
   DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'SPK', !Version_Actual, ATTRS( 'Period', !Period, 'PrevMonth' ), 'Amount - Final' )
  - DB( 'Yatırım Amortisman Fiili', '260', 'All Cost Centers', !Version_Actual, !Period, 'UMS Amortisman - Final' )
  - DB( 'Yatırım Amortisman Fiili', '261', 'All Cost Centers', !Version_Actual, !Period, 'UMS Amortisman - Final' )
  - DB( 'Yatırım Amortisman Fiili', '262', 'All Cost Centers', !Version_Actual, !Period, 'UMS Amortisman - Final' )
  - DB( 'Yatırım Amortisman Fiili', '263', 'All Cost Centers', !Version_Actual, !Period, 'UMS Amortisman - Final' )
  - (DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'Final Kanuni', !Version_Actual, !Period, 'Amount' )),
     DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'SPK', !Version_Actual, ATTRS( 'Period', !Period, 'PrevMonth' ), 'Amount' )
  - DB( 'Yatırım Amortisman Fiili', '260', 'All Cost Centers', !Version_Actual, !Period, 'UMS Amortisman - Final' )
  - DB( 'Yatırım Amortisman Fiili', '261', 'All Cost Centers', !Version_Actual, !Period, 'UMS Amortisman - Final' )
  - DB( 'Yatırım Amortisman Fiili', '262', 'All Cost Centers', !Version_Actual, !Period, 'UMS Amortisman - Final' )
  - DB( 'Yatırım Amortisman Fiili', '263', 'All Cost Centers', !Version_Actual, !Period, 'UMS Amortisman - Final' )
  - (DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'Final Kanuni', !Version_Actual, !Period, 'Amount' )));

[ 'Fiili', '300', '37308 / 300 Reclass', 'Amount' ] =  N: 
	- DB('SPK Giriş', '37308 / 300 Reclass', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '309', 'IFRS 16', 'Amount' ] =  N: 
	DB('SPK Giriş', 'IFRS 16 - BS Charge - 309', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '320', '373 to 320 Reclass', 'Amount' ] =  N: 
	DB('SPK Giriş', '373 to 320 Reclass', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '320', '373 to 320 Tax Reclass', 'Amount' ] =  N: 
	DB('SPK Giriş', '373 to 320 Tax Reclass', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '320', 'IAS39 (T/P)', 'Amount' ] =  N: 
	DB('SPK Giriş', 'IAS39 TP - BS Charge - 320', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '320', 'Payebles to RP', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Payebles to RP', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '323', 'Payebles to RP', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Kingfisher', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '331', 'Payebles to RP', 'Amount' ] =  N: 
	- DB('SPK Giriş', 'Payebles to RP', !Version_Actual, !Period, 'Amount')
    - DB('SPK Giriş', 'Kingfisher', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '370', 'Other Rec. Class.', 'Amount' ] =  N: IF( ATTRN( 'Period', !Period, 'Index' ) >= 36, STET, ['193', 'Final Kanuni', 'Amount - Final']);

[ 'Fiili', '373', 'Holiday Pay', 'Amount' ] =  N: 
	- DB('SPK Giriş', 'Holiday - BS Charge - 373', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '373', 'Litigation', 'Amount' ] =  N: 
	- DB('SPK Giriş', 'Litigation - BS Charge - 373', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '373', '373 to 320 Reclass', 'Amount' ] =  N: 
	- DB('SPK Giriş', '373 to 320 Reclass', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '373', '37308 / 300 Reclass', 'Amount' ] =  N: 
	DB('SPK Giriş', '37308 / 300 Reclass', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '380', 'PARO (IFRIC13)', 'Amount' ] =  N: 
	- DB('SPK Giriş', 'PARO - BS Charge - 380', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '409', 'IFRS 16', 'Amount' ] =  N: 
	DB('SPK Giriş', 'IFRS 16 - BS Charge - 409', !Version_Actual, !Period, 'Amount');

[ 'Fiili', {'520', '522', '530', '540'}, 'SPK Sermaye', 'Amount' ] =  N: IF( ATTRN( 'Period', !Period, 'Index' ) < 44,
    DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'SPK', !Version_Actual, ATTRS( 'Period', !Period, 'PYLastMonth' ), !Mali_Tablo_Fiili_Meas )
  - DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'Kanuni', !Version_Actual, !Period, !Mali_Tablo_Fiili_Meas ), CONTINUE);

[ 'Fiili', {'542', '549', '560'}, 'SPK Sermaye', 'Amount' ] =  N:
    DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'SPK', !Version_Actual, ATTRS( 'Period', !Period, 'PYLastMonth' ), 'Amount - Final' )
  - DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'Kanuni', !Version_Actual, !Period, 'Amount - Final' );

[ 'Fiili', '570', 'SPK Sermaye', 'Amount' ] =  N: 
(DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'SPK', !Version_Actual, ATTRS( 'Period', !Period, 'PYLastMonth' ), 'Amount - Final' ))
+ (DB( 'Mali Tablo Fiili', 'Gelir/Gider', 'SPK', !Version_Actual, ATTRS( 'Period', !Period, 'PYLastMonth' ), 'Amount - Final' ))
- DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'Kanuni', !Version_Actual, !Period, !Mali_Tablo_Fiili_Meas );

[ 'Fiili', '600', 'PARO (IFRIC13)', 'Amount' ] =  N: 
	DB('SPK Giriş', 'PARO - PL Charge - 600', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '600', 'IAS18 (Sales)', 'Amount' ] =  N: 
	DB('SPK Giriş', '600 Reclass', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '621', 'NRV', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Stock - PL Charge - 621', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '621', 'Rebate in Stock', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Rebate - PL Charge - 621', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '621', 'IAS18 (COGS)', 'Amount' ] =  N: 
	- DB('SPK Giriş', '621 Reclass', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '630', 'Holiday Pay', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Holiday - PL Charge - 630', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '630', 'Ar-Ge AJE', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Ar-Ge - PL Charge - 630', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '630', 'Depr. (Stat/IAS9)', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Adjustment - 630', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '631', 'Depr. (Stat/IAS9)', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Adjustment - 631', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '631', 'Holiday Pay', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Holiday - PL Charge - 631', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '631', 'IFRS 16', 'Amount' ] =  N: 
	DB('SPK Giriş', 'IFRS 16 - PL Charge - 631', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '631', 'KIDEM Rje', 'Amount' ] =  N: 
	DB('SPK Giriş', '631', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '632', 'Depr. (Stat/IAS9)', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Adjustment - 632', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '632', 'Holiday Pay', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Holiday - PL Charge - 632', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '632', 'IFRS 16', 'Amount' ] =  N: 
	DB('SPK Giriş', 'IFRS 16 - PL Charge - 632', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '632', 'KIDEM Rje', 'Amount' ] =  N: 
	DB('SPK Giriş', '632', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '642', 'IAS18 (Sales)', 'Amount' ] =  N: 
	DB('SPK Giriş', '642 Reclass', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '642', 'IAS39 (T/P)', 'Amount' ] =  N: 
	DB('SPK Giriş', 'IAS39 TP - PL Charge - 642', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '642', 'Finansal Gelir Gider Ters', 'Amount' ] =  N: 
	IF(DB('SPK Giriş', 'Finansal Gelir Gider Ters', !Version_Actual, !Period, 'Amount') < 0,  - DB('SPK Giriş', 'Finansal Gelir Gider Ters', !Version_Actual, !Period, 'Amount'), CONTINUE);

[ 'Fiili', '642', 'IAS39 (T/R)', 'Amount' ] =  N:
	DB('SPK Giriş', 'IAS39 TR - PL Charge - 642', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '642', 'Finansal Gelir Gider Ters', 'Amount' ] =  N: 
	IF(DB('SPK Giriş', 'Finansal Gelir Gider Ters', !Version_Actual, !Period, 'Amount') > 0, DB('SPK Giriş', 'Finansal Gelir Gider Ters', !Version_Actual, !Period, 'Amount'), 0);

[ 'Fiili', '642', 'Tfs Reclass', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Tfs Reclass', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '642', 'Other Rec. Class.', 'Amount' ] =  N: 
	DB('SPK Giriş', '646 / 642 Other Rec. Class.', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '646', 'IFRS 16', 'Amount' ] =  N: 
	DB('SPK Giriş', 'IFRS 16 - PL Charge - 646', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '646', 'Other Rec. Class.', 'Amount' ] =  N: 
	- DB('SPK Giriş', '646 / 642 Other Rec. Class.', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '649', 'Avm Net-Off', 'Amount' ] =  N: 
	DB('SPK Giriş', 'AVM Net-Off', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '649', 'Tfs Reclass', 'Amount' ] =  N: 
	- DB('SPK Giriş', 'Tfs Reclass', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '649', 'Litigation', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Litigation - PL Charge - 654', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '654', 'KIDEM Rje', 'Amount' ] =  N: 
	- DB('SPK Giriş', '654', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '656', 'IFRS 16', 'Amount' ] =  N: 
	DB('SPK Giriş', 'IFRS 16 - PL Charge - 656', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '656', 'Other Rec. Class.', 'Amount' ] =  N: IF( ATTRN( 'Period', !Period, 'Index' ) >= 36, STET, - ['656', 'Final Kanuni', 'Amount - Final']);

[ 'Fiili', '659', 'Avm Net-Off', 'Amount' ] =  N: 
	- DB('SPK Giriş', 'AVM Net-Off', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '660', 'IAS39 (T/R)', 'Amount' ] =  N:
	DB('SPK Giriş', 'IAS39 TR - PL Charge - 660', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '660', 'Finansal Gelir Gider Ters', 'Amount' ] =  N: 
	IF(DB('SPK Giriş', 'Finansal Gelir Gider Ters', !Version_Actual, !Period, 'Amount') > 0,  - DB('SPK Giriş', 'Finansal Gelir Gider Ters', !Version_Actual, !Period, 'Amount'), 0);

[ 'Fiili', '660', 'Finansal Gelir Gider Ters', 'Amount' ] =  N: 
	IF(DB('SPK Giriş', 'Finansal Gelir Gider Ters', !Version_Actual, !Period, 'Amount') < 0, DB('SPK Giriş', 'Finansal Gelir Gider Ters', !Version_Actual, !Period, 'Amount'), CONTINUE);

[ 'Fiili', '660', 'IAS39 (T/P)', 'Amount' ] =  N:  
	DB('SPK Giriş', 'IAS39 TP - PL Charge - 660', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '660', 'Eko', 'Amount' ] =  N: 
	DB('SPK Giriş', 'Eko-660', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '660', 'IFRS 16', 'Amount' ] =  N: 
	DB('SPK Giriş', 'IFRS 16 - PL Charge - 660', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '660', 'IAS18 (COGS)', 'Amount' ] =  N: 
	- DB('SPK Giriş', '660 Reclass', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '660', 'Other Rec. Class.', 'Amount' ] =  N: IF( ATTRN( 'Period', !Period, 'Index' ) >= 36, STET, ['656', 'Final Kanuni', 'Amount - Final']);

[ 'Fiili', '679', 'Depr. (Stat/IAS9)', 'Amount' ] =  N: 
  IF( DB( 'Yatırım Amortisman Fiili', 'Toplam Duran Varlık', 'All Cost Centers', !Version_Actual, !Period|'-YTD', 'UMS Amortisman - Çıkış' )
  - DB( 'Yatırım Amortisman Fiili', 'Toplam Duran Varlık', 'All Cost Centers', !Version_Actual, !Period|'-YTD', 'Kanuni Amortisman - Çıkış' ) > 0, 
    (DB( 'Yatırım Amortisman Fiili', 'Toplam Duran Varlık', 'All Cost Centers', !Version_Actual, !Period|'-YTD', 'UMS Amortisman - Çıkış' )
  - DB( 'Yatırım Amortisman Fiili', 'Toplam Duran Varlık', 'All Cost Centers', !Version_Actual, !Period|'-YTD', 'Kanuni Amortisman - Çıkış' )) * -1, CONTINUE );

[ 'Fiili', '689', 'Depr. (Stat/IAS9)', 'Amount' ] =  N: 
  IF( DB( 'Yatırım Amortisman Fiili', 'Toplam Duran Varlık', 'All Cost Centers', !Version_Actual, !Period|'-YTD', 'UMS Amortisman - Çıkış' )
  - DB( 'Yatırım Amortisman Fiili', 'Toplam Duran Varlık', 'All Cost Centers', !Version_Actual, !Period|'-YTD', 'Kanuni Amortisman - Çıkış' ) < 0, 
    (DB( 'Yatırım Amortisman Fiili', 'Toplam Duran Varlık', 'All Cost Centers', !Version_Actual, !Period|'-YTD', 'UMS Amortisman - Çıkış' )
  - DB( 'Yatırım Amortisman Fiili', 'Toplam Duran Varlık', 'All Cost Centers', !Version_Actual, !Period|'-YTD', 'Kanuni Amortisman - Çıkış' )) * -1, CONTINUE );

FEEDERS;

#Aylığa çevirme feederı.

[ 'Fiili', 'Amount - Final' ] => [ 'Amount - Monthly' ];

[ 'Fiili', 'Amount - Final' ] => DB('Mali Tablo Fiili', !Mizan_Hesapları_Uclu, !Mali_Tablo_Tipi, !Version_Actual, ATTRS('Period', !Period, 'NextMonth'), 'Amount - Final');

#Düzeltme feedarları.

[ 'Fiili', '630', '630 Düzeltme', 'Amount - Final' ] => DB('Mali Tablo Fiili', !Mizan_Hesapları_Uclu, '630 Düzeltme', !Version_Actual, ATTRS('Period', !Period, 'NextMonth'), 'Amount');

[ 'Fiili', '630', '630 Düzeltme', 'Amount - Final' ] => DB('Mali Tablo Fiili', !Mizan_Hesapları_Uclu, '632 Düzeltme', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '660', '660 Düzeltme', 'Amount - Final' ] => DB('Mali Tablo Fiili', !Mizan_Hesapları_Uclu, '660 Düzeltme', !Version_Actual, ATTRS('Period', !Period, 'NextMonth'), 'Amount');

#Yatırım feedarları.

[ 'Fiili', 'Mali_Tablo_Tipi':'SPK', 'Amount - Final' ] => DB('Yatırım Mizan Kontrol Fiili', !Mizan_Hesapları_Uclu, !Version_Actual, !Period, 'SPK Mizan');

[ 'Fiili', 'Mali_Tablo_Tipi':'SPK', {'250', '254', '255', '258', '260', '261', '262', '263'}, 'Amount - Final' ] => DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'Depr. (Stat/IAS9)', !Version_Actual, ATTRS( 'Period', !Period, 'NextMonth' ), 'Amount' );
  
#SPK Giriş feedarları.
[ 'Fiili', '621', 'Final Kanuni', 'Amount - Monthly' ] => DB('SPK Giriş', 'Monthly COGS', !Version_Actual, !Period, 'Amount');

[ 'Fiili', '136', 'Final Kanuni', 'Amount - Final' ] => ['120', 'Other Rec. Class.', 'Amount'];
[ 'Fiili', '136', 'Final Kanuni', 'Amount - Final' ] => ['136', 'Other Rec. Class.', 'Amount'];
[ 'Fiili', '193', 'Final Kanuni', 'Amount - Final' ] => ['193', 'Other Rec. Class.', 'Amount'];
[ 'Fiili', '193', 'Final Kanuni', 'Amount - Final' ] => ['370', 'Other Rec. Class.', 'Amount'];  
[ 'Fiili', '264', 'Final Kanuni', 'Amount' ] => ['264', 'Depr. (Stat/IAS9)', 'Amount'];  
[ 'Fiili', '656', 'Final Kanuni', 'Amount - Final' ] => ['656', 'Other Rec. Class.', 'Amount'];
[ 'Fiili', '656', 'Final Kanuni', 'Amount - Final' ] => ['660', 'Other Rec. Class.', 'Amount'];

[ 'Fiili', {'520', '522', '530', '540'}, 'Mali_Tablo_Tipi':'SPK', 'Amount' ] => DB( IF( ATTRN( 'Period', !Period, 'Index' ) >= 44, '', 'Mali Tablo Fiili'), !Mizan_Hesapları_Uclu, 'SPK Sermaye', !Version_Actual, !Period, !Mali_Tablo_Fiili_Meas );  
[ 'Fiili', {'542', '549', '560'}, 'Mali_Tablo_Tipi':'SPK', 'Amount' ] => DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'SPK Sermaye', !Version_Actual, !Period, 'Amount - Final' );
[ 'Fiili', '570', 'Mali_Tablo_Tipi':'SPK', 'Amount - Final' ] => DB( 'Mali Tablo Fiili', !Mizan_Hesapları_Uclu, 'SPK Sermaye', !Version_Actual, !Period, 'Amount' );

#Ticari Alacaklar Fiili Feedarları.
[ 'Fiili', { '600', '601', '602', '610', '611' }, 'Mali_Tablo_Tipi':'SPK', 'Amount - Monthly' ] => DB('Ticari Alacaklar Fiili', 'SPK', !Version_Actual, !Period, 'Satış - Aylık');
[ 'Fiili', {'600', '601', '602', '610', '611'}, 'Mali_Tablo_Tipi':'SPK', 'Amount - Monthly'] => DB( 'Ticari Alacaklar Fiili', 'Gün Hesabı', !Version_Actual, !Period, 'Satış - Aylık' );
[ 'Fiili', {'600', '601', '602', '610', '611'}, 'Mali_Tablo_Tipi':'Final Kanuni', 'Amount - Monthly'] => DB( 'Ticari Alacaklar Fiili', 'Kanuni', !Version_Actual, !Period, 'Satış - Aylık' );
[ 'Fiili', 'Mizan_Hesapları_Uclu':'108', 'Mali_Tablo_Tipi':'SPK', 'Amount - Final' ] => DB('Ticari Alacaklar Fiili', 'SPK', !Version_Actual, !Period, 'Kredi Kartı Alacakları');
[ 'Fiili', 'Mizan_Hesapları_Uclu':'108', 'Mali_Tablo_Tipi':'SPK', 'Amount - Final'] => DB( 'Ticari Alacaklar Fiili', 'Gün Hesabı', !Version_Actual, !Period, 'Kredi Kartı Alacakları' );
[ 'Fiili', 'Mizan_Hesapları_Uclu':'108', 'Final Kanuni', 'Amount - Final' ] => DB('Ticari Alacaklar Fiili', 'Kanuni', !Version_Actual, !Period, 'Kredi Kartı Alacakları');
[ 'Fiili', { '120', '121', '123', '125', '128', '129', '131', '136' }, 'Mali_Tablo_Tipi':'SPK', 'Amount - Final' ] => DB('Ticari Alacaklar Fiili', 'SPK', !Version_Actual, !Period, 'K.V. Ticari Alacaklar');
[ 'Fiili', {'120', '121', '123', '125', '128', '129', '131', '136', '231', '340'}, 'Mali_Tablo_Tipi':'SPK', 'Amount - Final'] => DB( 'Ticari Alacaklar Fiili', 'Gün Hesabı', !Version_Actual, !Period, 'K.V. Ticari Alacaklar' );
[ 'Fiili',  { '120', '121', '123', '125', '126', '128', '129', '136' }, 'Mali_Tablo_Tipi':'Final Kanuni', 'Amount - Final' ] => DB('Ticari Alacaklar Fiili', 'Kanuni', !Version_Actual, !Period, 'K.V. Ticari Alacaklar');
  
#Ticari Borçlar Fiili Feederları.
[ 'Fiili', { '153', '154', '157', '159' }, 'Final Kanuni', 'Amount - Final' ] => DB('Ticari Borçlar Fiili', 'Kanuni', !Version_Actual, !Period, 'Stok ve Siparişler');
[ 'Fiili', { '153', '154', '157', '159' }, 'Mali_Tablo_Tipi':'SPK', 'Amount - Final' ] => DB('Ticari Borçlar Fiili', 'SPK', !Version_Actual, !Period, 'Stok ve Siparişler');
[ 'Fiili', { '153', '154', '157', '159' }, 'Mali_Tablo_Tipi':'SPK', 'Amount - Final' ] => DB('Ticari Borçlar Fiili', 'Gün Hesabı', !Version_Actual, !Period, 'Stok ve Siparişler');
[ 'Fiili', { '309', '320', '321', '323', '324', '326', '329', '340' }, 'Final Kanuni', 'Amount - Final' ] => DB('Ticari Borçlar Fiili', 'Kanuni', !Version_Actual, !Period, 'K.V. Ticari Borçlar');
[ 'Fiili', { '320', '321', '323', '324', '326', '329', '331', '340' }, 'Mali_Tablo_Tipi':'SPK', 'Amount - Final' ] => DB('Ticari Borçlar Fiili', 'SPK', !Version_Actual, !Period, 'K.V. Ticari Borçlar');
[ 'Fiili', { '320', '321', '323', '324', '326', '329', '331' }, 'Mali_Tablo_Tipi':'SPK', 'Amount - Final' ] => DB('Ticari Borçlar Fiili', 'Gün Hesabı', !Version_Actual, !Period, 'K.V. Ticari Borçlar');  
[ 'Fiili', '621', 'Final Kanuni', 'Amount - Monthly' ] => DB('Ticari Borçlar Fiili', 'Kanuni', !Version_Actual, !Period, 'SMM');
[ 'Fiili', '621', 'Mali_Tablo_Tipi':'SPK', 'Amount - Monthly' ] => DB('Ticari Borçlar Fiili', 'SPK', !Version_Actual, !Period, 'SMM');
[ 'Fiili', '621', 'Mali_Tablo_Tipi':'SPK', 'Amount - Monthly' ] => DB('Ticari Borçlar Fiili', 'Gün Hesabı', !Version_Actual, !Period, 'SMM');    

#Vergi Ertelenen feederları.
[ 'Fiili', {'254', '255', '257', '258', '0'}, 'Mali_Tablo_Tipi':'SPK', 'Amount - Final' ] => DB( 'Vergi Ertelenen Fiili', 'Tangible ass.', 'Tutar - SPK', !Version_Actual, !Period, 'Amount' );
[ 'Fiili', {'254', '255', '257', '258'}, 'Mali_Tablo_Tipi':'Kanuni', 'Amount - Final' ] => DB( 'Vergi Ertelenen Fiili', 'Tangible ass.', 'Tutar - Kanuni', !Version_Actual, !Period, 'Amount' );
[ 'Fiili', {'260', '261', '262', '263', '268'}, 'Mali_Tablo_Tipi':'SPK', 'Amount - Final' ] => DB( 'Vergi Ertelenen Fiili', 'Intangible ass.', 'Tutar - SPK', !Version_Actual, !Period, 'Amount' );
[ 'Fiili', {'0', '252', '256', '260', '261', '262', '263', '264', '268'}, 'Mali_Tablo_Tipi':'Kanuni', 'Amount - Final' ] => DB( 'Vergi Ertelenen Fiili', 'Intangible ass.', 'Tutar - Kanuni', !Version_Actual, !Period, 'Amount' );
[ 'Fiili', '472', 'Mali_Tablo_Tipi':'SPK', 'Amount - Final' ] => DB( 'Vergi Ertelenen Fiili', 'ETB', 'Tutar - SPK', !Version_Actual, !Period, 'Amount' );
[ 'Fiili', {'372', '472'}, 'Mali_Tablo_Tipi':'Kanuni', 'Amount - Final' ] => DB( 'Vergi Ertelenen Fiili', 'ETB', 'Tutar - Kanuni', !Version_Actual, !Period, 'Amount' );
